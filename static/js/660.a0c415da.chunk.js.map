{"version":3,"file":"static/js/660.a0c415da.chunk.js","mappings":"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","sources":["images/icons/eye.svg","images/icons/link.svg","images/icons/list.svg","components/shared/LinkCard/LinkCard.jsx","components/Lecture/LectureContent.jsx","images/icons/voice.svg","images/icons/volume.svg","webpack://learning-platform-commerce/./src/components/LectureAudioPlayer/LectureAudioPlayer.module.scss?5a02","components/LectureAudioPlayer/LectureAudioPlayer.jsx","redux/template/selectors.js","webpack://learning-platform-commerce/./src/components/shared/Template/Template.module.scss?64b5","components/shared/Template/Templates.jsx","images/icons/saveTemplate.svg","components/shared/Template/SaveTemplateForm.jsx","components/shared/Template/SaveTemplate.jsx","components/shared/Template/Template.jsx","images/icons/note.svg","utils/convrtToHTML.js","webpack://learning-platform-commerce/./src/components/Notes/Notes.module.scss?1c34","components/Notes/AddChildNode.jsx","components/Notes/NodeTitle.jsx","components/Notes/Note.jsx","components/Notes/TreeSelect.jsx","components/Notes/NotesPopoverContent.jsx","components/Notes/Notes.jsx","components/TasksHeader/LectureHeader.jsx","components/TasksHeader/SubmitTest.jsx","components/TasksHeader/TestHeader.jsx","components/shared/ImageGroup/ImageGroup.jsx","webpack://learning-platform-commerce/./src/components/shared/Switcher/Switcher.module.scss?0db9","components/shared/Switcher/Switcher.jsx","context/LectureConstructorContext.jsx","utils/selection.js","context/SelectionContext.jsx","utils/compareObjectsByKeys.js","utils/generateIdBasedOnTime.js","webpack://learning-platform-commerce/./src/components/Lecture/Lecture.module.scss?1b05","webpack://learning-platform-commerce/./src/components/TasksHeader/TasksHeader.module.scss?771d"],"sourcesContent":["var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgEye(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 14,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 5.6875C6.6519 5.6875 6.31806 5.82578 6.07192 6.07192C5.82578 6.31806 5.6875 6.6519 5.6875 7C5.6875 7.3481 5.82578 7.68194 6.07192 7.92808C6.31806 8.17422 6.6519 8.3125 7 8.3125C7.3481 8.3125 7.68194 8.17422 7.92808 7.92808C8.17422 7.68194 8.3125 7.3481 8.3125 7C8.3125 6.6519 8.17422 6.31806 7.92808 6.07192C7.68194 5.82578 7.3481 5.6875 7 5.6875Z\",\n    fill: \"#7E8CA8\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M6.99967 3.20801C5.47251 3.20801 4.09934 3.82109 3.11001 4.58059C2.61417 4.96092 2.20759 5.38326 1.92234 5.79392C1.64234 6.19759 1.45801 6.62109 1.45801 6.99967C1.45801 7.37826 1.64292 7.80176 1.92234 8.20484C2.20817 8.61609 2.61417 9.03842 3.11001 9.41817C4.09934 10.1788 5.47251 10.7913 6.99967 10.7913C8.52684 10.7913 9.90001 10.1783 10.8893 9.41876C11.3852 9.03842 11.7918 8.61609 12.0764 8.20543C12.3564 7.80176 12.5413 7.37826 12.5413 6.99967C12.5413 6.62109 12.3564 6.19759 12.0764 5.79451C11.7918 5.38326 11.3852 4.96092 10.8893 4.58117C9.90001 3.82051 8.52684 3.20801 6.99967 3.20801ZM4.81217 6.99967C4.81217 6.41951 5.04264 5.86311 5.45288 5.45288C5.86311 5.04264 6.41951 4.81217 6.99967 4.81217C7.57984 4.81217 8.13623 5.04264 8.54647 5.45288C8.95671 5.86311 9.18717 6.41951 9.18717 6.99967C9.18717 7.57984 8.95671 8.13624 8.54647 8.54647C8.13623 8.95671 7.57984 9.18717 6.99967 9.18717C6.41951 9.18717 5.86311 8.95671 5.45288 8.54647C5.04264 8.13624 4.81217 7.57984 4.81217 6.99967Z\",\n    fill: \"#7E8CA8\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgEye);\nexport default __webpack_public_path__ + \"static/media/eye.c4d7b65b264701ec52c62a56ea0562b4.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _circle, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgLink(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.4434 14.4277H14.4249C16.388 14.4277 18.0001 12.7874 18.0001 10.7754C18.0001 8.76991 16.3945 7.12305 14.4249 7.12305H13.4434\",\n    stroke: \"url(#paint0_linear_1940_2320)\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.24051 9.4541C5.0845 9.86582 5 10.3107 5 10.7756C5 12.781 6.60559 14.4279 8.57519 14.4279H9.55025\",\n    stroke: \"url(#paint1_linear_1940_2320)\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.54954 7.12305H8.57449C8.03496 7.12305 7.52793 7.24258 7.06641 7.46172\",\n    stroke: \"url(#paint2_linear_1940_2320)\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.90039 10.7754H14.1007\",\n    stroke: \"url(#paint3_linear_1940_2320)\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 11.5,\n    cy: 10.5,\n    r: 10.2,\n    stroke: \"url(#paint4_linear_1940_2320)\",\n    strokeWidth: 0.6\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_1940_2320\",\n    x1: 18.0001,\n    y1: 10.7754,\n    x2: 13.4434,\n    y2: 10.7754,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#001C54\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#001C54\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear_1940_2320\",\n    x1: 9.55025,\n    y1: 11.941,\n    x2: 5,\n    y2: 11.941,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#001C54\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#001C54\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear_1940_2320\",\n    x1: 9.54954,\n    y1: 7.29238,\n    x2: 7.06641,\n    y2: 7.29238,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#001C54\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#001C54\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear_1940_2320\",\n    x1: 14.1007,\n    y1: 11.2754,\n    x2: 8.90039,\n    y2: 11.2754,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#001C54\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#001C54\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint4_linear_1940_2320\",\n    x1: 22,\n    y1: 10.5,\n    x2: 1,\n    y2: 10.5,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#001C54\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#001C54\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLink);\nexport default __webpack_public_path__ + \"static/media/link.726f482c7c9608db31af0e9f6d9d8fa2.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgList(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.5,\n    clipPath: \"url(#clip0_3134_6776)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 5.85714,\n    height: 5.85714,\n    rx: 1.78571,\n    stroke: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 9.64258,\n    width: 5.85714,\n    height: 5.85714,\n    rx: 1.78571,\n    stroke: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 9,\n    y: 2.5,\n    width: 6.85714,\n    height: 2,\n    rx: 1,\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 9.14258,\n    y: 11.5,\n    width: 6.85714,\n    height: 2,\n    rx: 1,\n    fill: \"currentColor\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgList);\nexport default __webpack_public_path__ + \"static/media/list.3e7dab27a8bc135c990adf981e2773fb.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as LinkIcon } from \"../../../images/icons/link.svg\";\n\nconst LinkCard = ({ link, text, styles }) => {\n  return (\n    <a\n      className={styles.linkWrapper}\n      href={link}\n      rel=\"noreferrer noopener\"\n      target=\"_blank\"\n    >\n      <LinkIcon />\n      <span>{text ? text : link}</span>\n    </a>\n  );\n};\n\nexport default LinkCard;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Empty } from \"antd\";\nimport { serverName } from \"../../http/server\";\nimport { confirmLectureThunk } from \"../../redux/lesson/operation\";\nimport { useSelection } from \"../../context/SelectionContext\";\nimport PDFReader from \"../PDFReader/PDFReader\";\nimport Modal from \"../shared/Modal/Modal\";\nimport VideoPlayer from \"../shared/VideoPlayer/VideoPlayer\";\nimport LinkCard from \"../shared/LinkCard/LinkCard\";\nimport ImageGroup from \"../shared/ImageGroup/ImageGroup\";\nimport DocumentLink from \"../shared/DocumentLink/DocumentLink\";\nimport LessonNavigateBtn from \"../shared/LessonNavigateBtn/LessonNavigateBtn\";\nimport CompleteBtn from \"../shared/CompleteBtn/CompleteBtn\";\nimport styles from \"./Lecture.module.scss\";\n\nconst LectureContent = ({ lecture, isTemplate = false, tepmplateData }) => {\n  const [fullscreen, setFullscreen] = useState(false);\n  const [confirmBtnState, setConfirmBtnState] = useState(\"default\");\n\n  const selectionContaner = useSelection()?.selectionContaner;\n\n  const dispatch = useDispatch();\n\n  const {\n    number,\n    courseName,\n    status,\n    id,\n    course_id: courseId,\n  } = isTemplate ? {} : lecture;\n\n  const lectureContent = isTemplate\n    ? tepmplateData\n    : [...lecture.lecture_info.attributes].sort(\n        (itemA, itemB) => itemA.a_number - itemB.a_number\n      );\n\n  const renderLectureContent = () =>\n    lectureContent?.map((section) => {\n      const {\n        a_type: type,\n        // a_id: id,\n        a_title: title,\n        a_text: text,\n        downloadAllowed,\n        hided,\n        files,\n        links,\n      } = section;\n      const id = isTemplate ? section.id : section.a_id;\n      switch (type) {\n        case \"text\":\n          return (\n            <section\n              key={id}\n              id={type}\n              className={hided ? `${styles.section} hidden` : styles.section}\n            >\n              {title && (\n                <h3\n                  className={styles.sectionTitle}\n                  dangerouslySetInnerHTML={{ __html: title }}\n                ></h3>\n              )}\n              {text && (\n                <div\n                  className={styles.sectionContentWrapper}\n                  dangerouslySetInnerHTML={{ __html: text }}\n                ></div>\n              )}\n            </section>\n          );\n        case \"present\":\n          const filePath = files[0].file_path;\n          const encodedFilePathPresent = filePath?.replace(/ /g, \"%20\");\n          return (\n            <section\n              key={id}\n              id={type}\n              className={\n                hided ? \"hidden\" : `${styles.section} ${styles.sectionPDF}`\n              }\n            >\n              <h3\n                className={styles.sectionTitle}\n                dangerouslySetInnerHTML={{ __html: title }}\n              ></h3>\n              <div className={styles.pdfWrapper}>\n                <PDFReader\n                  pdf={`${serverName}/${encodedFilePathPresent}`}\n                  setFullscreen={setFullscreen}\n                  fullscreen={false}\n                />\n              </div>\n              <Modal\n                width=\"fit-content\"\n                contentWrapperStyles={{\n                  padding: 0,\n                  background: \"none\",\n                  boxShadow: \"none\",\n                }}\n                isOpen={fullscreen}\n                closeModal={() => setFullscreen(false)}\n              >\n                <PDFReader\n                  pdf={`${serverName}/${encodedFilePathPresent}`}\n                  setFullscreen={setFullscreen}\n                  fullscreen={fullscreen}\n                />\n              </Modal>\n              {text && text !== \"\" && (\n                <div\n                  className={styles.sectionContentWrapper}\n                  dangerouslySetInnerHTML={{ __html: text }}\n                ></div>\n              )}\n            </section>\n          );\n        case \"audio\":\n          console.log(section);\n          const encodedFilePathAudio = files[0].file_path?.replace(/ /g, \"%20\");\n          return (\n            <section\n              key={id}\n              id={type}\n              className={\n                hided ? \"hidden\" : `${styles.section} ${styles.sectionAudio}`\n              }\n            >\n              <h3\n                className={styles.sectionTitle}\n                dangerouslySetInnerHTML={{ __html: title }}\n              ></h3>\n              <audio\n                src={`${serverName}/${encodedFilePathAudio}`}\n                controls={true}\n                width=\"true\"\n                height=\"auto\"\n                controlsList={downloadAllowed ? \"\" : \"nodownload\"}\n              ></audio>\n              {text && text !== \"\" && (\n                <div\n                  className={styles.sectionContentWrapper}\n                  dangerouslySetInnerHTML={{ __html: text }}\n                ></div>\n              )}\n            </section>\n          );\n        case \"video\":\n          const encodedFilePathVideo = files[0].file_path?.replace(/ /g, \"%20\");\n          return (\n            <section\n              key={id}\n              id={type}\n              className={\n                hided ? \"hidden\" : `${styles.section} ${styles.sectionVideo}`\n              }\n            >\n              <h3\n                className={styles.sectionTitle}\n                dangerouslySetInnerHTML={{ __html: title }}\n              ></h3>\n              <div className={styles.videoWrapper}>\n                <VideoPlayer\n                  file={{ filePath: `${serverName}/${encodedFilePathVideo}` }}\n                />\n              </div>\n              {text && text !== \"\" && (\n                <div\n                  className={styles.sectionContentWrapper}\n                  dangerouslySetInnerHTML={{ __html: text }}\n                ></div>\n              )}\n            </section>\n          );\n        case \"file\":\n          return (\n            <section\n              key={id}\n              id={type}\n              className={\n                hided ? \"hidden\" : `${styles.section} ${styles.sectionFiles}`\n              }\n            >\n              <h3\n                className={styles.sectionTitle}\n                dangerouslySetInnerHTML={{ __html: title }}\n              ></h3>\n              {files && files.length !== 0 && (\n                <div className={styles.filesWrapper}>\n                  {files.map((file) => (\n                    <DocumentLink\n                      file={file}\n                      key={file.file_id}\n                      styles={styles}\n                    />\n                  ))}\n                </div>\n              )}\n              {text && text !== \"\" && (\n                <div\n                  className={styles.sectionContentWrapper}\n                  dangerouslySetInnerHTML={{ __html: text }}\n                ></div>\n              )}\n            </section>\n          );\n        case \"link\":\n          return (\n            <section\n              key={id}\n              id={type}\n              className={\n                hided ? \"hidden\" : `${styles.section} ${styles.sectionFiles}`\n              }\n            >\n              <h3\n                className={styles.sectionTitle}\n                dangerouslySetInnerHTML={{ __html: title }}\n              ></h3>\n              {links && links.length !== 0 && (\n                <div className={styles.linksWrapper}>\n                  {links.map(({ link_id, link, anchor }) => (\n                    <LinkCard\n                      key={link_id}\n                      link={link}\n                      text={anchor}\n                      styles={styles}\n                    />\n                  ))}\n                </div>\n              )}\n              {text && text !== \"\" && (\n                <div\n                  className={styles.sectionContentWrapper}\n                  dangerouslySetInnerHTML={{ __html: text }}\n                ></div>\n              )}\n            </section>\n          );\n        case \"picture\":\n          return (\n            <section\n              key={id}\n              id={type}\n              className={hided ? \"hidden\" : styles.section}\n            >\n              <h3\n                className={styles.sectionTitle}\n                dangerouslySetInnerHTML={{ __html: title }}\n              ></h3>\n              <ImageGroup imagesData={files} styles={styles} isDesc={true} />\n              {text && (\n                <div\n                  className={styles.sectionContentWrapper}\n                  dangerouslySetInnerHTML={{ __html: text }}\n                ></div>\n              )}\n            </section>\n          );\n        default:\n          return null;\n      }\n    });\n\n  const handleConfirmLecture = () => {\n    setConfirmBtnState(\"pending\");\n    dispatch(confirmLectureThunk(id)).then(() =>\n      setConfirmBtnState(\"fulfilled\")\n    );\n  };\n\n  useEffect(() => {\n    if (status === \"active\") {\n      setConfirmBtnState(\"default\");\n    }\n  }, [status]);\n\n  return (\n    <div className={styles.contentWrapper}>\n      <div className={styles.lectureContent}>\n        {!isTemplate && (\n          <div className={styles.titleWrapper}>\n            <div className={styles.lectureName}>\n              <span className={styles.prefix}>{courseName}: </span>\n              <span className={styles.title}>{lecture?.title}</span>\n            </div>\n\n            <h2 className={styles.title}>\n              <span className={styles.prefix}>Lecture №:</span>\n              {number}\n            </h2>\n          </div>\n        )}\n        {lectureContent?.length !== 0 ? (\n          <div ref={selectionContaner ? selectionContaner : null}>\n            {renderLectureContent()}\n          </div>\n        ) : (\n          <Empty />\n        )}\n        {!isTemplate && (\n          <div className={styles.bottomNavBtnsWrapper}>\n            <LessonNavigateBtn\n              forward={false}\n              currentNumber={lecture.number}\n              courseId={courseId}\n              label=\"Return to previous\"\n              width=\"200rem\"\n              height=\"38rem\"\n            />\n            {status === \"active\" ? (\n              <CompleteBtn\n                onClick={handleConfirmLecture}\n                state={confirmBtnState}\n              />\n            ) : status === \"completed\" ? (\n              <CompleteBtn state={\"fulfilled\"} />\n            ) : null}\n            <LessonNavigateBtn\n              forward={true}\n              currentNumber={lecture.number}\n              courseId={courseId}\n              label=\"Move on to next\"\n              width=\"200rem\"\n              height=\"38rem\"\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LectureContent;\n","var _path, _path2, _path3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgVoice(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.00027 15H4.00027V13.5H6.00027C6.66307 13.4992 7.29849 13.2356 7.76716 12.7669C8.23583 12.2982 8.49947 11.6628 8.50027 11V10.36L9.65827 9.9745C9.72928 9.9508 9.79406 9.91147 9.84783 9.8594C9.9016 9.80732 9.943 9.74384 9.96896 9.67363C9.99493 9.60342 10.0048 9.52827 9.99784 9.45374C9.99088 9.37921 9.96728 9.30719 9.92877 9.243L8.50027 6.8615V5.5C8.49895 4.30693 8.02442 3.16311 7.18079 2.31948C6.33716 1.47585 5.19334 1.00132 4.00027 1H1.50027V2H4.00027C4.9282 2.00106 5.81783 2.37015 6.47397 3.0263C7.13012 3.68244 7.49921 4.57207 7.50027 5.5V7C7.50039 7.09056 7.5251 7.17939 7.57177 7.257L8.75027 9.223L7.84177 9.5255C7.74226 9.55876 7.65573 9.62248 7.59445 9.70764C7.53316 9.7928 7.50021 9.89508 7.50027 10V11C7.49987 11.3977 7.34171 11.779 7.06049 12.0602C6.77927 12.3414 6.39797 12.4996 6.00027 12.5H3.50027C3.36766 12.5 3.24048 12.5527 3.14672 12.6464C3.05295 12.7402 3.00027 12.8674 3.00027 13V15Z\",\n    fill: \"#7E8CA8\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.50011 6H4.50011V7H6.50011V6ZM11.3336 12.6085C11.7006 12.2802 11.9941 11.8782 12.1951 11.4287C12.3961 10.9792 12.5 10.4924 12.5 10C12.5 9.50762 12.3961 9.02079 12.1951 8.5713C11.9941 8.12181 11.7006 7.71979 11.3336 7.3915L10.6671 8.1365C10.9292 8.37099 11.1389 8.65816 11.2825 8.97923C11.4261 9.30029 11.5003 9.64804 11.5003 9.99975C11.5003 10.3515 11.4261 10.6992 11.2825 11.0203C11.1389 11.3413 10.9292 11.6285 10.6671 11.863L11.3336 12.6085Z\",\n    fill: \"#7E8CA8\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.8007 14.3996C13.4836 13.8872 14.0378 13.2228 14.4195 12.4591C14.8013 11.6954 15 10.8534 15 9.99961C15 9.14583 14.8013 8.30377 14.4195 7.54008C14.0378 6.7764 13.4836 6.11204 12.8007 5.59961L12.2007 6.39961C12.7596 6.81876 13.2133 7.36231 13.5258 7.98721C13.8383 8.61211 14.001 9.30119 14.001 9.99986C14.001 10.6985 13.8383 11.3876 13.5258 12.0125C13.2133 12.6374 12.7596 13.181 12.2007 13.6001L12.8007 14.3996Z\",\n    fill: \"#7E8CA8\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgVoice);\nexport default __webpack_public_path__ + \"static/media/voice.6334174e484c8a38afaf0e80a1635ac3.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgVolume(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.4499 2.21657L12.4499 2.2166C12.3557 2.32467 12.3535 2.36669 12.3535 2.41202C12.3535 2.4635 12.356 2.48127 12.3573 2.48865L12.3574 2.48895C12.3579 2.49207 12.3594 2.49997 12.3696 2.52131C12.4007 2.58636 12.4696 2.6914 12.6543 2.94592L12.2497 3.23964L12.6543 2.94592C13.7314 4.42981 14.3332 6.48281 14.2526 8.37016C14.1745 10.2003 13.6798 11.7119 12.668 13.2013C12.5393 13.3908 12.4975 13.4751 12.4824 13.5211C12.4771 13.5371 12.4766 13.5447 12.4764 13.5503C12.4762 13.5582 12.4767 13.5765 12.4845 13.6157L12.4845 13.6158C12.5027 13.7065 12.5227 13.7492 12.6065 13.8339C12.6538 13.8818 12.676 13.8923 12.6798 13.8939L12.6798 13.894C12.6807 13.8944 12.6902 13.8995 12.727 13.8996C12.7407 13.8996 12.75 13.8992 12.7559 13.8987C12.758 13.8971 12.7606 13.8949 12.7638 13.8922C12.8218 13.8423 12.9174 13.7257 13.1203 13.4241C14.6579 11.1389 15.1127 8.08334 14.3122 5.3134L14.7926 5.1746L14.3122 5.3134C13.9982 4.22692 13.4208 3.08459 12.7765 2.26474L12.7764 2.26471C12.691 2.15603 12.6334 2.1172 12.6084 2.10493C12.6027 2.10214 12.599 2.10086 12.5971 2.1003C12.5953 2.09976 12.5945 2.09967 12.5944 2.09965L12.5922 2.09965C12.5907 2.09973 12.5874 2.10004 12.582 2.10126L12.4499 2.21657ZM12.4499 2.21657C12.5101 2.14738 12.5419 2.12159 12.5562 2.11173M12.4499 2.21657L12.5562 2.11173M10.2299 5.22326L10.2299 5.22327C10.6567 5.89348 10.8742 6.41353 11.0116 7.12071L11.0116 7.12073C11.0541 7.33931 11.0721 7.70842 11.0749 8.03724C11.0778 8.36608 11.066 8.73547 11.0273 8.95484C11.0273 8.95485 11.0273 8.95486 11.0273 8.95487L10.5349 8.868L10.2299 5.22326ZM10.2299 5.22326C10.1158 5.04394 10.1026 4.95798 10.1026 4.9245C10.1027 4.90506 10.1054 4.85431 10.1972 4.74193C10.2515 4.67558 10.284 4.64561 10.3035 4.63061C10.3161 4.62099 10.3272 4.61432 10.3442 4.60771C10.3495 4.6088 10.3562 4.61028 10.3643 4.6123C10.3701 4.61673 10.3784 4.62346 10.3891 4.6332C10.4299 4.67004 10.4857 4.73123 10.5535 4.82203C10.6885 5.00301 10.8436 5.26472 10.9965 5.58777C11.7207 7.11791 11.714 9.0865 10.9789 10.6146L10.2299 5.22326ZM12.5562 2.11173C12.5621 2.10767 12.565 2.10641 12.5661 2.10592M12.5562 2.11173L12.5661 2.10592M12.5661 2.10592C12.5674 2.10535 12.5718 2.10357 12.582 2.10126L12.5661 2.10592ZM5.44861 4.63012L5.44861 4.63012C5.9321 4.18185 6.3818 3.76624 6.71678 3.45783C6.88433 3.30357 7.02283 3.17644 7.12238 3.08556C7.18907 3.02468 7.23113 2.98671 7.25302 2.96695C7.26558 2.9556 7.2715 2.95026 7.27163 2.95002C7.27286 2.9491 7.27612 2.94673 7.2816 2.94306C7.28906 2.93806 7.29814 2.93235 7.30794 2.92659C7.31776 2.92081 7.32665 2.91596 7.33362 2.91241C7.33711 2.91063 7.33935 2.90957 7.34036 2.9091C7.34902 2.90586 7.35799 2.90475 7.3751 2.91249C7.39641 2.92211 7.43679 2.95051 7.47158 3.01837L7.49975 3.07331L7.50002 8.07388L7.50027 13.0943L7.47989 13.1428C7.45601 13.1997 7.41615 13.2326 7.38118 13.2467C7.3606 13.255 7.34404 13.2565 7.33074 13.2545C7.30449 13.2321 7.26814 13.2005 7.22177 13.1595C7.12033 13.0699 6.97838 12.9423 6.8057 12.7856C6.46071 12.4726 5.99749 12.0472 5.49956 11.5854L5.15954 11.952L5.49956 11.5854L3.68543 9.90273L3.54171 9.76942L3.34569 9.76931L2.32522 9.76875C1.73854 9.76842 1.5048 9.76616 1.38452 9.74813C1.37911 9.74254 1.37246 9.7356 1.36441 9.72706L1.36438 9.72703C1.34844 9.7101 1.33716 9.69796 1.32938 9.68953C1.32718 9.67698 1.32439 9.65799 1.32162 9.63079C1.30114 9.43014 1.30104 9.04663 1.3008 8.176L1.30079 8.1127V8.11269C1.30065 7.64107 1.30333 7.23144 1.30802 6.93271C1.31037 6.78298 1.3132 6.66338 1.31631 6.57861C1.3174 6.54898 1.31847 6.52514 1.31947 6.50667C1.32527 6.49641 1.33365 6.48383 1.34466 6.47035C1.37176 6.43718 1.39818 6.41841 1.40871 6.41293L1.40873 6.41292C1.41287 6.41076 1.41637 6.40896 1.41929 6.40747C1.428 6.40642 1.44229 6.405 1.46393 6.4036C1.58904 6.39553 1.82053 6.39503 2.33501 6.39489H2.33502L3.34956 6.39457L3.54559 6.39451L3.68935 6.26123L5.44861 4.63012ZM1.32227 6.46718C1.32229 6.46727 1.32215 6.46883 1.32181 6.47157C1.32209 6.46846 1.32226 6.46709 1.32227 6.46718Z\",\n    stroke: \"#7E8CA8\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgVolume);\nexport default __webpack_public_path__ + \"static/media/volume.8bafc299f393d90fdeb842a4b7c7ea92.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"LectureAudioPlayer_wrapper__zNATz\",\"audio\":\"LectureAudioPlayer_audio__8W6pC\",\"title\":\"LectureAudioPlayer_title__tNCBY\",\"playBtn\":\"LectureAudioPlayer_playBtn__Qv54V\",\"volumeWrapper\":\"LectureAudioPlayer_volumeWrapper__iI0pN\",\"inputWrapper\":\"LectureAudioPlayer_inputWrapper__W4RXG\",\"volumeInput\":\"LectureAudioPlayer_volumeInput__AyuQu\",\"volumeValue\":\"LectureAudioPlayer_volumeValue__JfgKb\",\"rateWrapper\":\"LectureAudioPlayer_rateWrapper__6K0pB\",\"decrease\":\"LectureAudioPlayer_decrease__r8gyg\"};","import React, { useRef, useState } from \"react\";\nimport useMessage from \"antd/es/message/useMessage\";\nimport { serverName } from \"../../http/server\";\nimport { ReactComponent as PlayIcon } from \"../../images/icons/play.svg\";\nimport { ReactComponent as PauseIcon } from \"../../images/icons/pause.svg\";\nimport { ReactComponent as VoiceIcon } from \"../../images/icons/voice.svg\";\nimport { ReactComponent as VolumeIcon } from \"../../images/icons/volume.svg\";\nimport Select from \"../shared/Select/Select\";\nimport styles from \"./LectureAudioPlayer.module.scss\";\n\nconst getOptionsFromAudios = (audios) => {\n  return audios.map((audioPath) => {\n    const voiceName = audioPath.split(\"/\").pop().split(\".\")[0];\n    const capitalized = voiceName.charAt(0).toUpperCase() + voiceName.slice(1);\n    return { label: capitalized, value: audioPath };\n  });\n};\n\nconst LectureAudioPlayer = ({ lectureSpeeches }) => {\n  const audioRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [audioSrc, setAudioSrc] = useState(lectureSpeeches[0]);\n  const [volume, setVolume] = useState(1);\n  const [rate, setRate] = useState(1);\n\n  const [messageApi, contextHolder] = useMessage();\n\n  const handlePlay = () => {\n    audioRef.current?.play();\n    setIsPlaying(true);\n  };\n  const handlePause = () => {\n    audioRef.current?.pause();\n    setIsPlaying(false);\n  };\n  const handleVoiceChange = async (value) => {\n    setAudioSrc(value);\n    try {\n      audioRef.current.src = `${serverName}/${value}`;\n      await audioRef.current.load();\n      audioRef.current.playbackRate = rate;\n      await audioRef.current.play();\n      setIsPlaying(true);\n    } catch (error) {\n      setIsPlaying(false);\n      messageApi.error({\n        content: \"Something went wrong! Sorry for that, try again later\",\n      });\n    }\n  };\n  const handleChangeVolume = (e) => {\n    const value = e.target.value;\n    audioRef.current.volume = value;\n    setVolume(value);\n  };\n  const handleDecreaseRate = () => {\n    const newRate = Math.max(0.5, rate - 0.25);\n    audioRef.current.playbackRate = newRate;\n    setRate(newRate);\n  };\n  const handleIncreaseRate = () => {\n    const newRate = Math.min(2, rate + 0.25);\n    setRate(newRate);\n    audioRef.current.playbackRate = newRate;\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      {contextHolder}\n      <audio\n        ref={audioRef}\n        className={styles.audio}\n        src={`${serverName}/${audioSrc}`}\n        controls={false}\n      />\n      <span className={styles.title}>Voice acting:</span>\n      {isPlaying ? (\n        <button type=\"button\" onClick={handlePause} className={styles.playBtn}>\n          <PauseIcon />\n        </button>\n      ) : (\n        <button type=\"button\" onClick={handlePlay} className={styles.playBtn}>\n          <PlayIcon />\n        </button>\n      )}\n      <Select\n        onChange={handleVoiceChange}\n        options={getOptionsFromAudios(lectureSpeeches)}\n        placeholder={\n          <>\n            <VoiceIcon style={{ width: \"16rem\", height: \"auto\" }} />\n          </>\n        }\n        wrapperStyles={{\n          width: \"fit-content\",\n          padding: \"6rem\",\n          gap: \"4rem\",\n          marginRight: \"12rem\",\n        }}\n        allowClear={false}\n        borderless={true}\n        dropDownWrapperStyles={{ maxWidth: \"156rem\", maxHeight: \"200rem\" }}\n      />\n      <div className={styles.volumeWrapper}>\n        <VolumeIcon />\n        <div className={styles.inputWrapper}>\n          <input\n            className={styles.volumeInput}\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.05\"\n            value={volume}\n            onChange={handleChangeVolume}\n          />\n          <div\n            className={styles.volumeValue}\n            style={{ width: `calc(${+volume} * 100%)` }}\n          ></div>\n        </div>\n      </div>\n      <div className={styles.rateWrapper}>\n        <button className={styles.decrease} onClick={handleDecreaseRate}>\n          <PlayIcon />\n        </button>\n        <span>{`${rate}x`}</span>\n        <button className={styles.increase} onClick={handleIncreaseRate}>\n          <PlayIcon />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default LectureAudioPlayer;\n","export const getAllTemplates = (state) => state.template.templates;\nexport const getIsTemplateLoading = (state) => state.template.isLoading\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Template_wrapper__5kZEj\",\"openSaveNewTemplateModal\":\"Template_openSaveNewTemplateModal__laP07\",\"openTemplatesBtn\":\"Template_openTemplatesBtn__jkeG8\",\"saveTemplateForm\":\"Template_saveTemplateForm__Fra5+\",\"templatesTitle\":\"Template_templatesTitle__HkGmH\",\"templatesList\":\"Template_templatesList__ztX9V\",\"templateHeader\":\"Template_templateHeader__k9kTy\",\"showBtn\":\"Template_showBtn__X-E80\",\"deleteBtn\":\"Template_deleteBtn__4HBut\",\"btnsWrapper\":\"Template_btnsWrapper__XMbZC\",\"modalBtnsWrapper\":\"Template_modalBtnsWrapper__4wvO5\",\"useBtn\":\"Template_useBtn__vuk+U\",\"spinnerWrapper\":\"Template_spinnerWrapper__LV90H\"};","import React, { useState } from \"react\";\nimport {\n  FolderOpenOutlined,\n  FolderOutlined,\n  FolderViewOutlined,\n} from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllTemplates } from \"../../../redux/template/selectors\";\nimport useMessage from \"antd/es/message/useMessage\";\nimport { Popover } from \"antd\";\nimport { ReactComponent as TrashIcon } from \"../../../images/icons/trashRounded.svg\";\nimport { getTemplateByIdAndType } from \"../../../http/services/template\";\nimport { useLectureConstructor } from \"../../../context/LectureConstructorContext\";\nimport { generateId } from \"../../../utils/generateIdBasedOnTime\";\nimport { deleteTemplateByIdThunk } from \"../../../redux/template/operation\";\nimport Modal from \"../Modal/Modal\";\nimport LectureContent from \"../../Lecture/LectureContent\";\nimport Spinner from \"../../Spinner/Spinner\";\nimport styles from \"./Template.module.scss\";\nimport \"../../TasksHeader/AntPopoverStyles.css\";\n\nconst TemplatesList = ({ type, closePopover }) => {\n  const dispatch = useDispatch();\n  const setBlocks = useLectureConstructor().setBlocks;\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [templatesDetails, setTemplatesDetails] = useState([]);\n  const [selectedTemplateId, setSelectedTemplateId] = useState(null);\n  const [messageApi, contextHolder] = useMessage();\n\n  const templates = useSelector(getAllTemplates).filter(\n    (template) => template.type === type\n  );\n\n  const selectedTemplateDetails = templatesDetails.find(\n    ({ id }) => id === selectedTemplateId\n  );\n\n  const selectedTemplateData = selectedTemplateDetails?.[`${type}_template`];\n  const selectedTemplateTitle = selectedTemplateDetails?.title;\n\n  const fetchTemplateDetails = async (id) => {\n    setIsLoading(true);\n    try {\n      const response = await getTemplateByIdAndType(id, type);\n      const newTemplateDetails = {\n        ...response,\n        [`${type}_template`]: response[`${type}_template`].map(\n          ({ a_id, ...rest }, index) => ({\n            ...rest,\n            id: generateId() + index,\n          })\n        ),\n      };\n      setTemplatesDetails((prev) => [...prev, newTemplateDetails]);\n      setIsLoading(false);\n      return newTemplateDetails;\n    } catch (error) {\n      setIsLoading(false);\n      console.log(error);\n    }\n  };\n\n  const selectTemplate = async (id) => {\n    setSelectedTemplateId(id);\n    if (\n      !templatesDetails.find((templateDetails) => templateDetails.id === id)\n    ) {\n      await fetchTemplateDetails(id);\n    }\n  };\n\n  const handleShowTemplate = async (id) => {\n    await selectTemplate(id);\n    console.log(selectedTemplateData);\n    setIsModalOpen(true);\n  };\n\n  const handleUseTemplate = async (id) => {\n    if (templatesDetails.find((templateDetails) => templateDetails.id === id)) {\n      const templateData = templatesDetails.find(\n        (templateDetails) => templateDetails.id === id\n      )[`${type}_template`];\n      setBlocks(templateData);\n    } else {\n      const template = await fetchTemplateDetails(id);\n      const templateData = template[`${type}_template`];\n      setBlocks(templateData);\n    }\n    closePopover();\n  };\n\n  const handleUseTemplateFromModal = () => {\n    setBlocks(selectedTemplateData);\n    setIsModalOpen(false);\n    closePopover();\n  };\n\n  const deleteTemplate = (id) => {\n    dispatch(deleteTemplateByIdThunk(id))\n      .unwrap()\n      .then((response) => {\n        messageApi.success({\n          content: response.message,\n          duration: 3,\n        });\n      });\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <ul className={styles.templatesList}>\n        {templates.map(({ id, title }) => (\n          <li key={id}>\n            <div className={styles.templateHeader}>\n              <button\n                className={styles.showBtn}\n                onClick={() => handleShowTemplate(id)}\n              >\n                <FolderViewOutlined />\n                <span>{title}</span>\n              </button>\n              <button\n                className={styles.deleteBtn}\n                onClick={() => deleteTemplate(id)}\n              >\n                <TrashIcon />\n              </button>\n            </div>\n            <div className={styles.btnsWrapper}>\n              <button\n                className={styles.useBtn}\n                onClick={() => handleUseTemplate(id)}\n              >\n                <span>use template</span>\n                <FolderOpenOutlined />\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <Modal\n        width=\"80%\"\n        contentWrapperStyles={{ maxHeight: \"90%\", overflow: \"auto\" }}\n        isOpen={isModalOpen}\n        closeModal={() => setIsModalOpen(false)}\n      >\n        <h4 className={styles.templateTitle}>{selectedTemplateTitle}</h4>\n        <LectureContent\n          isTemplate={true}\n          tepmplateData={selectedTemplateData ? selectedTemplateData : []}\n        />\n        <div className={styles.modalBtnsWrapper}>\n          <button\n            className={styles.useBtn}\n            onClick={() => handleUseTemplateFromModal()}\n          >\n            <span>Use template</span>\n            <FolderOpenOutlined />\n          </button>\n        </div>\n      </Modal>\n      {isLoading && (\n        <div className={styles.spinnerWrapper}>\n          <Spinner />\n        </div>\n      )}\n    </>\n  );\n};\n\nconst Templates = ({ type }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleOpenChange = (newOpen) => {\n    setIsOpen(newOpen);\n  };\n\n  //   const closePopOver = () => handleOpenChange(false);\n\n  return (\n    <Popover\n      rootClassName=\"custom-popover\"\n      placement=\"bottomRight\"\n      arrow={false}\n      zIndex={998}\n      trigger=\"click\"\n      open={isOpen}\n      onOpenChange={handleOpenChange}\n      title={<span className={styles.templatesTitle}>Saved templates</span>}\n      content={\n        <TemplatesList type={type} closePopover={() => setIsOpen(false)} />\n      }\n    >\n      <button className={styles.openTemplatesBtn}>\n        <FolderOutlined />\n      </button>\n    </Popover>\n  );\n};\n\nexport default Templates;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgSaveTemplate(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M13.4509 12.8249C13.8007 13.011 14.1431 13.1078 14.4706 13.1078C14.746 13.1078 14.9991 13.0407 15.2224 12.9142C15.7211 12.6239 16.004 12.0434 16.004 11.3288V2.87313C16.004 1.28769 14.7162 0 13.1308 0H7.33986C5.75442 0 4.46672 1.28769 4.46672 2.87313V2.88829H2.87314C1.2877 2.88829 0 4.17598 0 5.76142V14.2171C0 14.9316 0.282841 15.5122 0.781547 15.8025C1.27281 16.0928 1.92038 16.063 2.55307 15.7132L5.47087 14.0831C5.61229 14.0087 5.91749 14.0087 6.05892 14.0831L8.98415 15.7132C9.33399 15.8993 9.67639 15.996 10.0039 15.996C10.2793 15.996 10.5324 15.9291 10.7557 15.8025C11.2544 15.5122 11.5372 14.9316 11.5372 14.2171V11.7566L13.4509 12.8249ZM4.93638 3.99734C4.96528 4.00207 4.99487 4.00454 5.02497 4.00454H8.66479C9.57405 4.00454 10.3256 4.70121 10.4129 5.58813C10.4181 5.64273 10.4207 5.69805 10.4207 5.75397V14.2096C10.4207 14.5148 10.3314 14.753 10.19 14.8349C10.0411 14.9242 9.79548 14.887 9.52752 14.7381L6.60227 13.108C6.35664 12.974 6.06635 12.907 5.76862 12.907C5.47088 12.907 5.17315 12.974 4.93496 13.1006L2.00972 14.7307C1.74176 14.8795 1.48868 14.9168 1.34725 14.8349C1.20583 14.753 1.11651 14.5148 1.11651 14.2096V5.75397C1.11651 4.78633 1.9055 3.99734 2.87314 3.99734H4.93638ZM13.9942 11.8498L11.5379 10.4728V5.75372C11.5379 4.16828 10.2502 2.88058 8.66479 2.88058H5.58323V2.86568C5.58323 1.89804 6.37222 1.10906 7.33986 1.10906H13.1308C14.0984 1.10906 14.8874 1.89804 14.8874 2.86568V11.3214C14.8874 11.6266 14.7981 11.8648 14.6567 11.9466C14.5078 12.036 14.2622 11.9987 13.9942 11.8498ZM5.21033 8.55261H4.27883C3.97366 8.55261 3.72058 8.29954 3.72058 7.99436C3.72058 7.68918 3.97366 7.4361 4.27883 7.4361H5.21033V6.50571C5.21033 6.20053 5.46341 5.94746 5.76858 5.94746C6.07376 5.94746 6.32684 6.20053 6.32684 6.50571V7.4361H7.25618C7.56136 7.4361 7.81444 7.68918 7.81444 7.99436C7.81444 8.29954 7.56136 8.55261 7.25618 8.55261H6.32684V9.48306C6.32684 9.78824 6.07376 10.0413 5.76858 10.0413C5.46341 10.0413 5.21033 9.78824 5.21033 9.48306V8.55261Z\",\n    fill: \"currentColor\",\n    fillOpacity: 1\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSaveTemplate);\nexport default __webpack_public_path__ + \"static/media/saveTemplate.6a989aa1de77cb7efe6738938a58d236.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\nimport { ReactComponent as SaveIcon } from \"../../../images/icons/saveTemplate.svg\";\nimport Textarea from \"../Textarea/Textarea\";\nimport styles from \"./Template.module.scss\";\n\nconst SaveTemplateForm = ({ type, handleSave }) => {\n  const [title, setTitle] = useState(\"\");\n\n  return (\n    <form\n      className={styles.saveTemplateForm}\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSave(title);\n      }}\n    >\n      <p>\n        <span>Template type: </span>\n        {type}\n      </p>\n      <Textarea\n        placeholder=\"Template title\"\n        value={title}\n        onChange={setTitle}\n        maxRows={1}\n        fontSize={18}\n      />\n      <button type=\"sumbit\">\n        <span>Save template</span>\n        <SaveIcon />\n      </button>\n    </form>\n  );\n};\n\nexport default SaveTemplateForm;\n","import React, { useState } from \"react\";\nimport { FolderAddOutlined } from \"@ant-design/icons\";\nimport Modal from \"../Modal/Modal\";\nimport styles from \"./Template.module.scss\";\nimport SaveTemplateForm from \"./SaveTemplateForm\";\nimport { useLectureConstructor } from \"../../../context/LectureConstructorContext\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createTemplateByTypeThunk } from \"../../../redux/template/operation\";\nimport useMessage from \"antd/es/message/useMessage\";\nimport { getIsTemplateLoading } from \"../../../redux/template/selectors\";\n\nconst SaveTemplate = ({ type }) => {\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const [messageApi, contextHolder] = useMessage();\n  const isLoading = useSelector(getIsTemplateLoading)\n  const dispatch = useDispatch();\n\n  const { blocks } = useLectureConstructor();\n\n  console.log(isLoading);\n\n  const saveTemplate = (title) => {\n    if (title.trim() === \"\") {\n      messageApi.error({\n        content: \"Title of template is required\",\n        duration: 3,\n      });\n      return;\n    }\n    const templateData = {\n      title,\n      type,\n      template_data: blocks,\n    };\n    console.log(templateData);\n\n    dispatch(createTemplateByTypeThunk({ type, templateData }))\n      .unwrap()\n      .then((response) => {\n        messageApi.success({ content: response.message, duration: 3 });\n        setIsOpenModal(false);\n      });\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <button\n        className={styles.openSaveNewTemplateModal}\n        onClick={() => setIsOpenModal(true)}\n      >\n        <FolderAddOutlined />\n      </button>\n      <Modal\n        isOpen={isOpenModal}\n        closeModal={() => setIsOpenModal(false)}\n        width=\"600rem\"\n      >\n        <SaveTemplateForm type={type} handleSave={saveTemplate} />\n      </Modal>\n    </>\n  );\n};\n\nexport default SaveTemplate;\n","import React from \"react\";\nimport Templates from \"./Templates\";\nimport SaveTemplate from \"./SaveTemplate\";\nimport styles from \"./Template.module.scss\";\n\nconst Template = ({type}) => {\n\n  return (\n    <div className={styles.wrapper}>\n      <Templates type={type}/>\n      <SaveTemplate type={type}/>\n    </div>\n  );\n};\n\nexport default Template;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgNote(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M3.79048 0.320315C3.79711 0.320317 3.80373 0.320318 3.81032 0.320318H12.1903L12.2102 0.320315C12.3375 0.320289 12.4716 0.320261 12.5869 0.329991C12.7165 0.340932 12.883 0.367729 13.0525 0.457475C13.2615 0.568159 13.4325 0.739115 13.5432 0.948161C13.6329 1.11766 13.6597 1.28411 13.6706 1.41377C13.6804 1.52907 13.6803 1.66316 13.6803 1.79047L13.6803 1.81032V13.0621L13.6803 13.0918C13.6803 13.377 13.6804 13.6366 13.6616 13.8412C13.6443 14.0307 13.6016 14.3419 13.3808 14.5894C13.143 14.856 12.7973 15.0004 12.4406 14.9824C12.1093 14.9656 11.8579 14.7772 11.7109 14.6564C11.5521 14.526 11.3674 14.3435 11.1645 14.1431L11.1434 14.1223L8.09166 11.1087C8.05656 11.074 8.02679 11.0446 8.00032 11.0189C7.97384 11.0446 7.94408 11.074 7.90897 11.1087L4.85726 14.1223L4.83613 14.1431C4.6332 14.3436 4.4485 14.526 4.28975 14.6564C4.14274 14.7772 3.89131 14.9656 3.56005 14.9824C3.20332 15.0004 2.8576 14.856 2.61981 14.5894C2.39899 14.3419 2.35637 14.0307 2.33902 13.8412C2.32027 13.6366 2.32029 13.377 2.32032 13.0917L2.32032 13.0621V1.81032C2.32032 1.80373 2.32032 1.79711 2.32032 1.79048C2.32029 1.66317 2.32026 1.52907 2.32999 1.41377C2.34093 1.28411 2.36773 1.11766 2.45747 0.948161C2.56816 0.739115 2.73911 0.568159 2.94816 0.457475C3.11766 0.367729 3.28411 0.340932 3.41377 0.329991C3.52907 0.320261 3.66317 0.320289 3.79048 0.320315ZM3.68058 1.68058C3.68033 1.71802 3.68032 1.76037 3.68032 1.81032V13.0621C3.68032 13.1814 3.68041 13.2833 3.68114 13.3712C3.74417 13.31 3.81675 13.2384 3.90166 13.1546L6.95338 10.141C6.95802 10.1364 6.96268 10.1318 6.96736 10.1272C7.05687 10.0388 7.15131 9.94546 7.23935 9.872C7.33847 9.7893 7.47433 9.69229 7.65605 9.63686C7.88046 9.56841 8.12018 9.56841 8.34459 9.63686C8.5263 9.69229 8.66217 9.7893 8.76129 9.872C8.84932 9.94546 8.94376 10.0387 9.03327 10.1272C9.03794 10.1318 9.04261 10.1364 9.04726 10.141L12.099 13.1546C12.1839 13.2384 12.2565 13.31 12.3195 13.3712C12.3202 13.2833 12.3203 13.1814 12.3203 13.0621V1.81032C12.3203 1.76038 12.3203 1.71802 12.3201 1.68058C12.2826 1.68033 12.2403 1.68032 12.1903 1.68032H3.81032C3.76037 1.68032 3.71802 1.68033 3.68058 1.68058Z\",\n    fill: \"#7E8CA8\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgNote);\nexport default __webpack_public_path__ + \"static/media/note.c87b6a56ce02b6c81f23fc2f1ab9ae74.svg\";\nexport { ForwardRef as ReactComponent };","export const convertToHTML = (input) => {\n  const lines = input.split(\"\\n\");\n  let html = \"\";\n\n  lines.forEach((line) => {\n    const trimmedLine = line.trim();\n\n    if (trimmedLine) {\n      html += `<p>${trimmedLine}</p>\\n`;\n    }\n  });\n\n  return html;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"note\":\"Notes_note__kIzJS\",\"openNotesBtn\":\"Notes_openNotesBtn__TqRCH\",\"notesTitle\":\"Notes_notesTitle__E8TST\",\"noteTitleInput\":\"Notes_noteTitleInput__jT7r6\",\"btns\":\"Notes_btns__PWHdx\",\"addChildNodeWrapper\":\"Notes_addChildNodeWrapper__exv4H\",\"nodeTitleWrapper\":\"Notes_nodeTitleWrapper__Vyg-j\",\"nodeTitle\":\"Notes_nodeTitle__PMAA1\",\"showAddChildNode\":\"Notes_showAddChildNode__QxuvF\",\"deleteNodeBtn\":\"Notes_deleteNodeBtn__rFuu+\",\"noteTitle\":\"Notes_noteTitle__R4yz1\"};","import React, { useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createNotesFolderThunk } from \"../../redux/user/operations\";\nimport { getUserInfo } from \"../../redux/user/selectors\";\nimport { ReactComponent as CheckIcon } from \"../../images/icons/check.svg\";\nimport styles from \"./Notes.module.scss\";\n\nconst AddChildNode = ({ parentId = null, deleteNode }) => {\n  const inputRef = useRef();\n  const [title, setTitle] = useState(\"\");\n\n  const studentId = useSelector(getUserInfo).studentId;\n\n  const dispatch = useDispatch();\n\n  const handleSaveNewChildNode = (e) => {\n    e.stopPropagation();\n\n    const nodeData = {\n      student_id: studentId,\n      name: title,\n      parent_id: parentId,\n    };\n\n    dispatch(createNotesFolderThunk(nodeData));\n  };\n\n  return (\n    <div\n      className={styles.addChildNodeWrapper}\n      onClick={(e) => {\n        e.stopPropagation();\n        inputRef.current.focus();\n      }}\n    >\n      <input\n        ref={inputRef}\n        type=\"text\"\n        name=\"node-title\"\n        placeholder=\"New folder title\"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n      />\n      {title !== \"\" && (\n        <button onClick={handleSaveNewChildNode}>\n          <CheckIcon />\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default AddChildNode;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { FolderAddOutlined } from \"@ant-design/icons\";\nimport { deleteNotesFolderThunk } from \"../../redux/user/operations\";\nimport { ReactComponent as DeleteIcon } from \"../../images/icons/trashRounded.svg\";\nimport { Popconfirm } from \"antd\";\nimport styles from \"./Notes.module.scss\";\nimport \"./Popconfirm.css\";\n\nconst NodeTitle = ({ title, id, handleShowAddChildNode }) => {\n  const [confirmDeleteLoading, setConfirmDeleteLoading] = useState(false);\n  const dispatch = useDispatch();\n\n  const handeDeleteNode = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    setConfirmDeleteLoading(true);\n    dispatch(deleteNotesFolderThunk(id))\n      .unwrap()\n      .then(() => {\n        setConfirmDeleteLoading(false);\n      });\n  };\n\n  return (\n    <div className={styles.nodeTitleWrapper}>\n      <span className={styles.nodeTitle} id=\"notes-tree-select-title\">\n        {title}\n      </span>\n      <button\n        className={styles.showAddChildNode}\n        onClick={(e) => {\n          e.stopPropagation();\n          e.preventDefault();\n          handleShowAddChildNode(id);\n        }}\n      >\n        <FolderAddOutlined />\n      </button>\n      <Popconfirm\n        title=\"Delete the folder\"\n        description=\"Are you sure to delete this folder and all child folders?\"\n        onConfirm={handeDeleteNode}\n        onCancel={(e) => e.stopPropagation()}\n        okText=\"Yes\"\n        okButtonProps={{\n          loading: confirmDeleteLoading,\n        }}\n        cancelText=\"No\"\n        overlayClassName=\"notes-popconfirm\"\n      >\n        <button\n          className={styles.deleteNodeBtn}\n          onClick={(e) => {\n            e.stopPropagation();\n            e.preventDefault();\n          }}\n        >\n          <DeleteIcon />\n        </button>\n      </Popconfirm>\n    </div>\n  );\n};\n\nexport default NodeTitle;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Popconfirm } from \"antd\";\nimport { deleteNoteThunk } from \"../../redux/user/operations\";\nimport { useSelection } from \"../../context/SelectionContext\";\nimport { ReactComponent as NoteIcon } from \"../../images/icons/document-text.svg\";\nimport { ReactComponent as DeleteIcon } from \"../../images/icons/trashRounded.svg\";\nimport styles from \"./Notes.module.scss\";\nimport \"./Popconfirm.css\";\n\nconst Note = ({ note }) => {\n  const messageApi = useSelection()?.messageApi;\n  const dispatch = useDispatch();\n  const [confirmDeleteLoading, setConfirmDeleteLoading] = useState(false);\n\n  const handleDeleteNote = (e) => {\n    e.stopPropagation();\n\n    setConfirmDeleteLoading(true);\n\n    dispatch(deleteNoteThunk(note.note_id))\n      .unwrap()\n      .then(() => {\n        messageApi.success({\n          content: \"Note has been deleted.\",\n          duration: 3,\n        });\n      })\n      .finally(() => setConfirmDeleteLoading(false));\n  };\n  return (\n    <>\n      <div key={note.note_id} className={styles.note}>\n        <span className={styles.noteTitle}>\n          <NoteIcon />\n          <span>{note.title}</span>\n        </span>\n        <Popconfirm\n          title=\"Delete the note\"\n          description=\"Are you sure to delete this note?\"\n          onConfirm={handleDeleteNote}\n          onCancel={(e) => e.stopPropagation()}\n          okText=\"Yes\"\n          okButtonProps={{\n            loading: confirmDeleteLoading,\n          }}\n          cancelText=\"No\"\n          overlayClassName=\"notes-popconfirm\"\n        >\n          <button className={styles.deleteNodeBtn}>\n            <DeleteIcon />\n          </button>\n        </Popconfirm>\n      </div>\n    </>\n  );\n};\n\nexport default Note;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { TreeSelect as AntTreeSelect } from \"antd\";\nimport { getUserNotes } from \"../../redux/user/selectors\";\nimport { ReactComponent as ChevronIcon } from \"../../images/icons/dropdownArrow.svg\";\nimport \"./TreeSelect.css\";\nimport AddChildNode from \"./AddChildNode\";\nimport NodeTitle from \"./NodeTitle\";\nimport Note from \"./Note\";\n\nconst treeSelectStyle = {\n  width: \"100%\",\n};\n\nconst treeSelectDropdownStyles = {\n  maxHeight: 400,\n  overflow: \"auto\",\n  backgroundColor: \"rgba(255, 255, 255, 0.9)\",\n  backdropFilter: \"blur(16px)\",\n  boxShadow: \"0 0 10rem rgba(0, 0, 0, 0.1)\",\n};\n\nconst TreeSelect = ({ selectedNote, setSelectedNote }) => {\n  const userNotes = useSelector(getUserNotes);\n  const [treeData, setTreeData] = useState([]);\n  const [open, setIsOpen] = useState(false);\n\n  const handleShowAddChildNode = (parentId) => {\n    const addChildToNode = (node) => {\n      if (\n        node.value === parentId &&\n        !node.children.some(\n          (child) => child.value === `${node.value} new child`\n        )\n      ) {\n        return {\n          ...node,\n          children: [\n            ...node.children,\n            {\n              value: `${node.value} new child`,\n              title: <AddChildNode parentId={node.value} />,\n            },\n          ],\n        };\n      }\n\n      return {\n        ...node,\n        children: node.children?.map(addChildToNode),\n      };\n    };\n\n    setTreeData((prev) => prev.map(addChildToNode));\n  };\n\n  useEffect(() => {\n    const getNoteTreeData = (note) => ({\n      key: `note-${note.note_id}`,\n      value: `note-${note.note_id}`,\n      title: <Note note={note} />,\n      selectable: false,\n    });\n\n    const getNotesTreeData = (userNotes) =>\n      userNotes.map((node) => {\n        if (node.note_id) {\n          return getNoteTreeData(node);\n        }\n        const notes = node.folder_notes\n          ? node.folder_notes.map(getNoteTreeData)\n          : [];\n        let childNodes = [];\n\n        if (node.children_folders && node.children_folders.length) {\n          childNodes = getNotesTreeData(node.children_folders);\n        }\n\n        return {\n          key: `${node.folder_id}`,\n          value: node.folder_id,\n          title: (\n            <NodeTitle\n              title={node.folder_name}\n              id={node.folder_id}\n              handleShowAddChildNode={handleShowAddChildNode}\n            />\n          ),\n          children: [...notes, ...childNodes],\n        };\n      });\n\n    setTreeData([\n      ...getNotesTreeData(userNotes),\n      {\n        key: \"new parent\",\n        value: `new parent`,\n        title: <AddChildNode />,\n      },\n    ]);\n  }, [userNotes]);\n\n  useEffect(() => {\n    const handleNotesSelectClick = () => {\n      setIsOpen((prev) => !prev);\n    };\n\n    const handleClickOutsideNotesSelect = (e) => {\n      const dropdownRef = document.querySelector(\".ant-select-dropdown\");\n      if (selectRef.contains(e.target) || dropdownRef?.contains(e.target)) {\n        return;\n      }\n      setIsOpen(false);\n    };\n\n    const selectRef = document.querySelector(\".note-tree-select\");\n\n    selectRef.addEventListener(\"click\", handleNotesSelectClick);\n    window.addEventListener(\"click\", handleClickOutsideNotesSelect);\n\n    return () => {\n      selectRef.removeEventListener(\"click\", handleNotesSelectClick);\n      window.removeEventListener(\"click\", handleClickOutsideNotesSelect);\n    };\n  }, []);\n\n  return (\n    <AntTreeSelect\n      placeholder=\"Folder\"\n      className=\"note-tree-select\"\n      popupClassName=\"note-tree-select-dropdown\"\n      suffixIcon={<ChevronIcon className=\"chevronIcon\" />}\n      switcherIcon={<ChevronIcon className=\"treeChevronIcon\" />}\n      style={treeSelectStyle}\n      dropdownStyle={treeSelectDropdownStyles}\n      treeData={treeData}\n      showSearch={false}\n      allowClear={false}\n      value={selectedNote}\n      onChange={(value) => {\n        setSelectedNote(value);\n        setIsOpen(false);\n      }}\n      open={open}\n    />\n  );\n};\n\nexport default TreeSelect;\n","import React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelection } from \"../../context/SelectionContext\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllLessons } from \"../../redux/lesson/selectors\";\nimport { convertToHTML } from \"../../utils/convrtToHTML\";\nimport { createNewNoteThunk } from \"../../redux/user/operations\";\nimport TreeSelect from \"./TreeSelect\";\nimport styles from \"./Notes.module.scss\";\nimport \"./TreeSelect.css\";\n\nconst NotesPopoverContent = () => {\n  const selectionText = useSelection()?.selectionText;\n  const removeTheSelection = useSelection()?.removeTheSelection;\n  const messageApi = useSelection()?.messageApi;\n\n  const { taskId } = useParams();\n  const lessons = useSelector(getAllLessons);\n  const dispatch = useDispatch();\n\n  const [noteTitle, setNoteTitle] = useState(\"\");\n  const [selectedNote, setSelectedNote] = useState();\n\n  const saveNewNote = () => {\n    const lectureId = lessons.find(({ id }) => id === +taskId)?.lecture_info\n      ?.lecture_id;\n\n    const noteData = {\n      title: noteTitle,\n      text: convertToHTML(selectionText),\n      folder_id: selectedNote,\n      lecture_id: lectureId,\n    };\n\n    if (noteTitle === \"\") {\n      messageApi.error({\n        content: \"Note title is required!\",\n        duration: 3,\n      });\n    }\n\n    if (!selectedNote) {\n      messageApi.error({\n        content: \"Please select folder to save into!\",\n        duration: 3,\n      });\n    }\n\n    if (noteTitle === \"\" || !selectedNote) {\n      return;\n    }\n\n    dispatch(createNewNoteThunk(noteData))\n      .unwrap()\n      .then(() => {\n        messageApi.success({\n          content: \"Note has been saved\",\n          duration: 3,\n        });\n        setNoteTitle(\"\");\n        setSelectedNote(null);\n        removeTheSelection();\n      });\n  };\n\n  return (\n    <>\n      <h4 className={styles.notesTitle}>Add new note</h4>\n      <input\n        type=\"text\"\n        className={styles.noteTitleInput}\n        value={noteTitle}\n        onChange={(e) => setNoteTitle(e.target.value)}\n        placeholder=\"Note title\"\n      />\n      <TreeSelect\n        selectedNote={selectedNote}\n        setSelectedNote={setSelectedNote}\n      />\n      <div className={styles.btns}>\n        <button onClick={saveNewNote} disabled={selectionText === \"\"}>\n          Save\n        </button>\n        <button onClick={removeTheSelection} disabled={selectionText === \"\"}>\n          Cancel\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default NotesPopoverContent;\n","import React, { useState } from \"react\";\nimport { Popover } from \"antd\";\nimport { useSelection } from \"../../context/SelectionContext\";\nimport { ReactComponent as NoteIcon } from \"../../images/icons/note.svg\";\nimport NotesPopoverContent from \"./NotesPopoverContent\";\nimport styles from \"./Notes.module.scss\";\nimport \"./Popover.css\";\n\nconst Notes = () => {\n  const [isOpenPopover, setIsOpenPopover] = useState(false);\n  const getSelection = useSelection()?.getSelection;\n\n  const handleOpenChange = (newOpen) => {\n    if (newOpen === true) {\n      getSelection();\n    }\n    setIsOpenPopover(newOpen);\n  };\n\n  return (\n    <div className={styles.note}>\n      <span>The note:</span>\n      <Popover\n        open={isOpenPopover}\n        onOpenChange={handleOpenChange}\n        trigger={\"click\"}\n        content={<NotesPopoverContent />}\n        title={null}\n        className=\"notes-popover\"\n        placement=\"bottom\"\n        arrow={false}\n        rootClassName=\"notes-popover\"\n      >\n        <button className={styles.openNotesBtn}>\n          <NoteIcon />\n        </button>\n      </Popover>\n    </div>\n  );\n};\n\nexport default Notes;\n","import React from \"react\";\nimport LessonNavigateBtn from \"../shared/LessonNavigateBtn/LessonNavigateBtn\";\nimport styles from \"./TasksHeader.module.scss\";\nimport LectureAudioPlayer from \"../LectureAudioPlayer/LectureAudioPlayer\";\nimport { useSelector } from \"react-redux\";\nimport { getUserType } from \"../../redux/user/selectors\";\nimport Switcher from \"../shared/Switcher/Switcher\";\nimport Template from \"../shared/Template/Template\";\nimport Notes from \"../Notes/Notes\";\n\nconst LectureHeader = ({\n  lecture,\n  switcherItems,\n  switcherValue,\n  switcherOnChange,\n}) => {\n  const {\n    title,\n    type,\n    number,\n    lecture_info: lectureInfo,\n    course_id: courseId,\n  } = lecture;\n\n  const lectureSpeech = lectureInfo?.lecture_speeches;\n\n  const isModer = useSelector(getUserType) === \"moder\";\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.titleWrapper}>\n        <h2 className={styles.title}>{title}</h2>\n        <span className={styles.divider}>|</span>\n        <span className={styles.type}>{type}</span>\n      </div>\n      {isModer && (\n        <>\n          <Template type=\"lecture\" />\n          <Switcher\n            items={switcherItems}\n            value={switcherValue}\n            onChange={switcherOnChange}\n          />\n        </>\n      )}\n      <div className={styles.toolsWrapper}>\n        {!isModer && <Notes />}\n        {lectureSpeech && lectureSpeech?.length !== 0 && !isModer && (\n          <LectureAudioPlayer lectureSpeeches={lectureInfo.lecture_speeches} />\n        )}\n        <div className={styles.navBtnsWrapper}>\n          <LessonNavigateBtn\n            forward={false}\n            currentNumber={number}\n            courseId={courseId}\n          />\n          <LessonNavigateBtn\n            forward={true}\n            currentNumber={number}\n            courseId={courseId}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LectureHeader;\n","import React, { useState } from \"react\";\nimport { Empty, Popover } from \"antd\";\nimport useMessage from \"antd/es/message/useMessage\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { submitTestAttemptThunk } from \"../../redux/lesson/operation\";\nimport { getUserInfo } from \"../../redux/user/selectors\";\nimport { ReactComponent as ListIcon } from \"../../images/icons/list.svg\";\nimport { ReactComponent as ComplieteIcon } from \"../../images/icons/task-check.svg\";\nimport { ReactComponent as EyeIcon } from \"../../images/icons/eye.svg\";\nimport { getTestAttemptById } from \"../../http/services/lesson\";\nimport Spinner from \"../Spinner/Spinner\";\nimport Modal from \"../shared/Modal/Modal\";\nimport TestContent from \"../Test/TestContent\";\nimport styles from \"./TasksHeader.module.scss\";\nimport \"./AntPopoverStyles.css\";\n\nconst AttemptsList = ({ test, closePopOver }) => {\n  const [attemptsDetails, setAttemptsDetails] = useState([]);\n  const [selectedAttemptId, setSelectedAttemptId] = useState(null);\n  const [isLoadingAttemptId, setIsLoadingAttemptId] = useState(null);\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const [messageApi, contextHolder] = useMessage();\n  const dispatch = useDispatch();\n  const lessonType = test.type;\n\n  const student_id = useSelector(getUserInfo).studentId;\n\n  const attempts = test[`${lessonType}_data`]?.attempts_data;\n  const maxScore = test[`${lessonType}_data`]?.score;\n\n  if (!attempts || attempts.length === 0 || !lessonType) {\n    return (\n      <Empty\n        description={\n          <span className={styles.emptyDescription}>You have no attempts</span>\n        }\n      />\n    );\n  }\n\n  const answers = attemptsDetails.find(\n    ({ id }) => id === selectedAttemptId\n  )?.data;\n\n  const handleOpenDetails = async (attempt) => {\n    setSelectedAttemptId(attempt.id);\n    setIsLoadingAttemptId(attempt.id);\n    try {\n      if (!attemptsDetails.find(({ id }) => id === attempt.id)) {\n        const attemptData = await getTestAttemptById(attempt.id, lessonType);\n        setAttemptsDetails((prev) => [\n          ...prev,\n          { id: attempt.id, data: attemptData },\n        ]);\n      }\n      setIsOpenModal(true);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setIsLoadingAttemptId(null);\n    }\n  };\n\n  const handleSubmitAttempt = (attempt_id) => {\n    const attemptData = {\n      attempt_id,\n      lesson_id: test.id,\n      student_id,\n      lessonType,\n    };\n    try {\n      dispatch(submitTestAttemptThunk(attemptData))\n        .unwrap()\n        .then((r) => {\n          messageApi.success({\n            content: r.Message,\n            duration: 5,\n          });\n          closePopOver();\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <ul className={styles.attemptsList}>\n        {attempts.map((attempt) => (\n          <li\n            key={attempt.id}\n            className={\n              test[`${lessonType}_data`]?.my_attempt_id === attempt.id\n                ? styles.sumbitedAttempt\n                : \"\"\n            }\n          >\n            <span\n              className={styles.marker}\n            >{`${attempt.attempt_number})`}</span>\n            <span\n              className={styles.scoreData}\n            >{`${attempt.attempt_score}/${maxScore}`}</span>\n            <button\n              className={styles.showAttemptDetailBtn}\n              onClick={() => handleOpenDetails(attempt)}\n            >\n              {isLoadingAttemptId !== attempt.id ? (\n                <>\n                  <EyeIcon />\n                  <span>Show details</span>\n                </>\n              ) : (\n                <Spinner />\n              )}\n            </button>\n            {!test[`${lessonType}_data`].my_attempt_id && (\n              <button\n                className={styles.submitAttemptBtn}\n                onClick={() => handleSubmitAttempt(attempt.id)}\n              >\n                <span>Submit</span>\n                <ComplieteIcon />\n              </button>\n            )}\n          </li>\n        ))}\n      </ul>\n      {answers && (\n        <Modal\n          width=\"80%\"\n          height=\"80%\"\n          isOpen={isOpenModal}\n          closeModal={() => setIsOpenModal(false)}\n        >\n          <div className={styles.testContentWrapper}>\n            <TestContent test={test} answers={answers} closed={true} />\n          </div>\n        </Modal>\n      )}\n    </>\n  );\n};\n\nconst SubmitTest = ({ test }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const lessonType = test.type;\n\n  const handleOpenChange = (newOpen) => {\n    setIsOpen(newOpen);\n  };\n\n  const closePopOver = () => handleOpenChange(false);\n\n  return (\n    <Popover\n      rootClassName=\"custom-popover\"\n      placement=\"bottomRight\"\n      zIndex={998}\n      title={\n        <div className={styles.attemptsTitle}>\n          <span>Your attempts:</span>\n          {test[`${lessonType}_data`]?.attempts_data && (\n            <span\n              title={`You can do ${\n                test[`${lessonType}_data`].attempts -\n                test[`${lessonType}_data`].attempts_data.length\n              } attempts more`}\n            >{`${test[`${lessonType}_data`].attempts_data.length}/${\n              test[`${lessonType}_data`].attempts\n            }`}</span>\n          )}\n        </div>\n      }\n      content={<AttemptsList test={test} closePopOver={closePopOver} />}\n      trigger=\"click\"\n      open={isOpen}\n      onOpenChange={handleOpenChange}\n    >\n      <button className={styles.attemptsBtn}>\n        <span>Attempts</span>\n        <ListIcon />\n      </button>\n    </Popover>\n  );\n};\n\nexport default SubmitTest;\n","import React from \"react\";\nimport { ReactComponent as DocQuestionIcon } from \"../../images/icons/document-question.svg\";\nimport LessonNavigateBtn from \"../shared/LessonNavigateBtn/LessonNavigateBtn\";\nimport styles from \"./TasksHeader.module.scss\";\nimport { useSelector } from \"react-redux\";\nimport { getUserType } from \"../../redux/user/selectors\";\nimport SubmitTest from \"./SubmitTest\";\nimport LessonGrade from \"../shared/LessonGrade/LessonGrade\";\n\nconst TestHeader = ({\n  test,\n  questionsDoneAmount = 0,\n  testScore,\n  isExam = false,\n}) => {\n  const { title, type, number, course_id: courseId } = test;\n\n  const testData = isExam ? test.exam_data : test.test_data;\n  const isModer = useSelector(getUserType) === \"moder\";\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.titleWrapper}>\n        <h2 className={styles.title}>{title}</h2>\n        <span className={styles.divider}>|</span>\n        <span className={styles.type}>{type}</span>\n      </div>\n      <div className={styles.toolsWrapper}>\n        {isModer && (\n          <>\n            {/* <Template type={isExam ? 'exam' : 'test'} /> */}\n            {/* <Switcher\n              items={switcherItems}\n              value={switcherValue}\n              onChange={switcherOnChange}\n            /> */}\n        </>\n        )}\n        {!isModer && (\n          <>\n            {testScore ? (\n              <>\n                <SubmitTest test={test} />\n                <LessonGrade grade={testScore} maxGrade={testData?.score} />\n              </>\n            ) : (\n              <>\n                <div className={styles.questionsDoneWrapper}>\n                  <DocQuestionIcon />\n                  <span>{`Questions: ${questionsDoneAmount}/${testData?.questions?.length}`}</span>\n                </div>\n                <SubmitTest test={test} />\n              </>\n            )}\n          </>\n        )}\n        <div className={styles.navBtnsWrapper}>\n          <LessonNavigateBtn\n            forward={false}\n            currentNumber={number}\n            courseId={courseId}\n          />\n          <LessonNavigateBtn\n            forward={true}\n            currentNumber={number}\n            courseId={courseId}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TestHeader;\n","import React from \"react\";\nimport { Image } from \"antd\";\nimport { serverName } from \"../../../http/server\";\nimport { ReactComponent as TrashIcon } from \"../../../images/icons/trashRounded.svg\";\nimport noImage from \"../../../images/noImage.webp\";\nimport Textarea from \"../Textarea/Textarea\";\n\nconst ImageGroup = ({\n  imagesData,\n  isDesc,\n  styles = {},\n  setDescription = () => {},\n  handleDeleteFile = () => {},\n  // handleInputBlur = () => {},\n  disabled = true,\n}) => {\n  return (\n    <div>\n      <Image.PreviewGroup>\n        <div className={`${styles.imagesWrapper} ${styles[`grid-${imagesData?.length}`]}`}>\n          {imagesData.map((imageData, index) => (\n            <div key={index} className={styles.imageWrapper}>\n              <Image\n                src={`${serverName}/${imageData.file_path}`}\n                alt={`${imageData.filename}`}\n                fallback={noImage}\n              />\n              {isDesc && (\n                <div className={styles.descWrapper}>\n                  {!disabled ? (\n                    <Textarea\n                      value={imageData.file_description}\n                      maxRows={1}\n                      onChange={(value) =>\n                        setDescription(imageData.filename, value)\n                      }\n                    />\n                  ) : (\n                    <p>{imageData.file_description}</p>\n                  )}\n                </div>\n              )}\n              {!disabled && (\n                <button\n                  className={styles.deleteBtn}\n                  onClick={() => handleDeleteFile(imageData.filename)}\n                >\n                  <TrashIcon className={styles.deleteIcon} />\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      </Image.PreviewGroup>\n    </div>\n  );\n};\n\nexport default ImageGroup;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Switcher_wrapper__BFLL6\",\"active\":\"Switcher_active__DbFmH\"};","import React from \"react\";\nimport styles from \"./Switcher.module.scss\";\n\nconst Switcher = ({\n  items = [],\n  onChange = () => {},\n  value = 0,\n  width = \"56rem\",\n  height = \"28rem\",\n}) => {\n  const handleToggle = (index) => {\n    onChange(index);\n  };\n\n  return (\n    <div className={styles.wrapper} style={{ width, height }}>\n      {items.map((item, index) => (\n        <button\n          key={index}\n          onClick={() => handleToggle(index)}\n          className={value === index ? styles.active : \"\"}\n        >\n          {item}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default Switcher;\n","import { createContext, useContext } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  createLectureAttributesThunk,\n  deleteLectureAttributeThunk,\n  updateLectureAttributesThunk,\n} from \"../redux/lesson/operation\";\nimport { generateId } from \"../utils/generateIdBasedOnTime\";\nimport { compareLecturePart } from \"../utils/compareObjectsByKeys\";\nimport { lectureAttributesToBlocks } from \"../utils/lectureAttributesToBlocks\";\nimport useMessage from \"antd/es/message/useMessage\";\nimport { getAllLessons } from \"../redux/lesson/selectors\";\nimport { useParams } from \"react-router-dom\";\n\nconst LectureConstructorContext = createContext();\n\nexport const useLectureConstructor = () =>\n  useContext(LectureConstructorContext);\n\nexport const LectureConstructorProvider = ({ children }) => {\n  const { taskId } = useParams();\n  const lessons = useSelector(getAllLessons);\n  const lectureData = lessons.find(({ id }) => id === +taskId);\n  const lectureId = lectureData?.lecture_info?.lecture_id;\n  const task = lessons.find(({ id }) => id === +taskId);\n  const initialBlocks = task?.lecture_info?.attributes || [];\n\n  const [blocks, setBlocks] = useState([\n    ...lectureAttributesToBlocks(initialBlocks),\n  ]);\n\n  const lectureAttrMaxNumber = blocks.reduce((maxNum, attr) => {\n    return Math.max(attr.a_number, maxNum);\n  }, 0);\n\n  const dispatch = useDispatch();\n  const [messageApi, contextHolder] = useMessage();\n\n  const handleAddBlock = (part) => {\n    setBlocks((prev) => [\n      ...prev,\n      {\n        id: generateId(),\n        a_type: part.a_type,\n        a_number: lectureAttrMaxNumber + 1,\n        ...part.template,\n      },\n    ]);\n  };\n\n  const handleDeleteBlock = (partId) => {\n    setBlocks((prev) =>\n      prev.filter((block) => {\n        if (block.id === partId && block.a_id) {\n          dispatch(\n            deleteLectureAttributeThunk({ lectureId, attrId: block.a_id })\n          )\n            .unwrap()\n            .then(() => {\n              messageApi.success({\n                content: \"Lecture part has been deleted\",\n                duration: 3,\n              });\n            });\n        }\n        return block.id !== partId;\n      })\n    );\n  };\n\n  const setTitle = (id, value) =>\n    setBlocks((prev) => {\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          a_title: value,\n        };\n      });\n    });\n\n  const setText = (id, value) =>\n    setBlocks((prev) => {\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          a_text: value,\n        };\n      });\n    });\n\n  const setFilePath = (id, filePath) =>\n    setBlocks((prev) => {\n      console.log(filePath);\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          file_path: filePath,\n        };\n      });\n    });\n\n  const addNewFile = (id, file) => {\n    setBlocks((prev) => {\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          files: [\n            ...block.files,\n            { ...file, file_description: \"\", download_allowed: false },\n          ],\n        };\n      });\n    });\n  };\n\n  const deleteFile = (id, filename) => {\n    setBlocks((prev) => {\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          files: block.files.filter((file) => file.filename !== filename),\n        };\n      });\n    });\n  };\n\n  const setDescriptionToFile = (id, filename, value) => {\n    setBlocks((prev) => {\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          files: block.files.map((file) => {\n            if (file.filename === filename) {\n              return { ...file, file_description: value };\n            }\n            return file;\n          }),\n        };\n      });\n    });\n  };\n\n  const addNewLink = (id) => {\n    setBlocks((prev) => {\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          links: [...block.links, { link: \"\", anchor: \"\" }],\n        };\n      });\n    });\n  };\n\n  const deleteLink = (id, linkIndex) => {\n    setBlocks((prev) => {\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          links: block.links.filter((_, index) => index !== linkIndex),\n        };\n      });\n    });\n  };\n\n  const onChangeLinksProperty = (id, linkIndex, property, value) => {\n    setBlocks((prev) => {\n      return prev.map((block) => {\n        if (block.id !== id) return block;\n        return {\n          ...block,\n          links: block.links.map((link, index) => {\n            if (index === linkIndex) {\n              return { ...link, [property]: value };\n            }\n            return link;\n          }),\n        };\n      });\n    });\n  };\n\n  const handleSaveLectureParts = () => {\n    const newAttrsData = blocks\n      .filter((attr) => !attr.a_id)\n      .map(({ id, ...rest }) => {\n        return { ...rest };\n      });\n\n    console.log(newAttrsData);\n\n    const initialAttrsData = blocks\n      .filter((attr) => attr.a_id)\n      .map(({ id, ...rest }) => {\n        return { ...rest };\n      });\n\n    const initialBlocksToUpdate = initialAttrsData.filter((block) => {\n      return compareLecturePart(\n        block,\n        lectureAttributesToBlocks(initialBlocks).find(\n          (initBlock) => initBlock.a_id === block.a_id\n        ),\n        block.a_type\n      );\n    });\n\n    console.log(initialAttrsData);\n    console.log(initialBlocksToUpdate);\n\n    if (initialBlocksToUpdate.length) {\n      dispatch(\n        updateLectureAttributesThunk({\n          lectureId,\n          attrsData: initialBlocksToUpdate,\n        })\n      )\n        .unwrap()\n        .then(() => {\n          messageApi.success({\n            content: `Lecture part${\n              initialBlocksToUpdate.length !== 1 ? \"s\" : \"\"\n            } ha${\n              initialBlocksToUpdate.length !== 1 ? \"s\" : \"ve\"\n            } been updated`,\n            duration: 3,\n          });\n        });\n    }\n\n    if (newAttrsData.length) {\n      dispatch(\n        createLectureAttributesThunk({ lectureId, attrsData: newAttrsData })\n      )\n        .unwrap()\n        .then((response) => {\n          setBlocks((prev) => {\n            const blocksWithoutNewBlocks = prev.filter((block) => block.a_id);\n            console.log(blocksWithoutNewBlocks);\n            return [\n              ...blocksWithoutNewBlocks,\n              ...lectureAttributesToBlocks(response),\n            ];\n          });\n          messageApi.success({\n            content: `Lecture part${\n              newAttrsData.length !== 1 ? \"s\" : \"\"\n            } has been created`,\n            duration: 3,\n          });\n        });\n    }\n  };\n\n  const getSetters = (block) => {\n    return {\n      title: (value) => setTitle(block.id, value),\n\n      text: (value) => setText(block.id, value),\n\n      filePath: (value) => setFilePath(block.id, value),\n\n      addFile: (file) => addNewFile(block.id, file),\n\n      deleteFile: (filename) => deleteFile(block.id, filename),\n\n      setDescription: (filename, value) =>\n        setDescriptionToFile(block.id, filename, value),\n\n      addLink: () => addNewLink(block.id),\n      deleteLink: (link) => deleteLink(block.id, link),\n\n      onChangeLink: (linkIndex, property, value) =>\n        onChangeLinksProperty(block.id, linkIndex, property, value),\n    };\n  };\n\n  return (\n    <LectureConstructorContext.Provider\n      value={{\n        blocks,\n        setBlocks,\n        handleAddBlock,\n        handleDeleteBlock,\n        getSetters,\n        handleSaveLectureParts,\n      }}\n    >\n      {contextHolder}\n      {children}\n    </LectureConstructorContext.Provider>\n  );\n};\n","export const wrapTextNode = (textNode, start, end) => {\n  if (textNode.nodeType !== Node.TEXT_NODE || !textNode.textContent) {\n    return;\n  }\n\n  const highlightSpan = document.createElement(\"span\");\n  highlightSpan.classList.add(\"highlight-selection\");\n\n  const text = textNode.textContent.substring(start, end);\n  const highlightedText = document.createTextNode(text);\n\n  highlightSpan.appendChild(highlightedText);\n\n  const parentNode = textNode.parentNode;\n  const textBefore = document.createTextNode(\n    textNode.textContent.substring(0, start)\n  );\n  const textAfter = document.createTextNode(\n    textNode.textContent.substring(end)\n  );\n\n  parentNode.insertBefore(textBefore, textNode);\n  parentNode.insertBefore(highlightSpan, textNode);\n  parentNode.insertBefore(textAfter, textNode);\n\n  parentNode.removeChild(textNode);\n};\n\nexport const getNextNode = (node) => {\n  if (node.firstChild) return node.firstChild;\n  while (node) {\n    if (node.nextSibling) return node.nextSibling;\n    node = node.parentNode;\n  }\n  return null;\n};\n\nexport const getNodesInRange = (range) => {\n  const nodes = [];\n  let node = range.startContainer;\n\n  while (node) {\n    if (\n      node.nodeType === Node.TEXT_NODE &&\n      range.intersectsNode(node.parentNode)\n    ) {\n      nodes.push(node);\n    }\n    if (node === range.endContainer) break;\n    node = getNextNode(node);\n  }\n  return nodes;\n};\n\nexport const handleHighlightSelection = (selection) => {\n  if (selection && selection.rangeCount > 0) {\n    const range = selection.getRangeAt(0);\n\n    const startContainer = range.startContainer;\n    const endContainer = range.endContainer;\n\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      wrapTextNode(\n        range.startContainer,\n        range.startOffset,\n        startContainer.textContent.length\n      );\n    }\n\n    const nodes = getNodesInRange(range);\n    nodes.forEach((node) => {\n      if (node.nodeType === Node.TEXT_NODE) {\n        wrapTextNode(node, 0, node.textContent.length);\n      }\n    });\n\n    if (endContainer.nodeType === Node.TEXT_NODE) {\n      wrapTextNode(range.endContainer, 0, range.endOffset);\n    }\n\n  }\n};\n","import { createContext, useContext, useRef, useState } from \"react\";\nimport { handleHighlightSelection } from \"../utils/selection\";\nimport useMessage from \"antd/es/message/useMessage\";\n\nconst SelectionContext = createContext();\n\nexport const SelectionProvider = ({ children }) => {\n  const selectionContaner = useRef();\n  const [selectionText, setSelectionText] = useState(\"\");\n  const [messageApi, contextHolder] = useMessage();\n\n  const removeTheSelection = () => {\n    const container = selectionContaner.current;\n\n    const selectionElements = container?.querySelectorAll(\n      \".highlight-selection\"\n    );\n\n    if (selectionElements) {\n      selectionElements.forEach((selectionElement) => {\n        const textContent = selectionElement.innerText;\n        const parentNode = selectionElement.parentNode;\n\n        selectionElement.insertAdjacentHTML(\"beforebegin\", textContent);\n        parentNode.removeChild(selectionElement);\n      });\n    }\n\n    setSelectionText(\"\");\n  };\n\n  const getSelection = () => {\n    const selection = window.getSelection();\n\n    if (!selection.isCollapsed) {\n      const range = selection.getRangeAt(0);\n      const container = selectionContaner.current;\n\n      if (container.contains(range.commonAncestorContainer)) {\n        setSelectionText(selection.toString());\n\n        handleHighlightSelection(selection);\n\n        selection.removeAllRanges();\n      } else {\n        messageApi.info({\n          content:\n            \"Selection is outside the lecture. Please select content inside lecture\",\n          duration: 3,\n        });\n      }\n    } else {\n      messageApi.info({\n        content: \"No text is selected.\",\n        duration: 3,\n      });\n    }\n  };\n\n  return (\n    <SelectionContext.Provider\n      value={{\n        selectionContaner,\n        selectionText,\n        messageApi,\n        getSelection,\n        removeTheSelection,\n      }}\n    >\n      {contextHolder}\n      {children}\n    </SelectionContext.Provider>\n  );\n};\n\nexport const useSelection = () => useContext(SelectionContext);\n","export const compareObjectsByKeys = (obj1, obj2, keys) => {\n  for (let key of keys) {\n    if (obj1?.[key] !== obj2?.[key]) {\n      return true;\n    }\n  }\n  return false;\n};\n\nconst getByTemplateTypeByAttrType = (a_type) => {\n  switch (a_type) {\n    case \"text\":\n      return \"text\";\n    case \"present\":\n    case \"audio\":\n    case \"video\":\n      return \"file\";\n    case \"picture\":\n    case \"file\":\n      return \"files\";\n    case \"link\":\n      return \"links\";\n    default:\n      break;\n  }\n};\n\nexport const compareLecturePart = (obj1, obj2, a_type) => {\n  const textBaseValues = [\"a_title\", \"a_text\", \"a_number\"];\n  const fileBaseValues = [\n    \"filename\",\n    \"file_path\",\n    \"file_size\",\n    \"file_description\",\n  ];\n  const linksBaseValues = [\"link\", \"anchor\"];\n\n  const templateType = getByTemplateTypeByAttrType(a_type);\n\n  switch (templateType) {\n    case \"text\":\n      return compareObjectsByKeys(obj1, obj2, textBaseValues);\n    case \"file\":\n      return compareObjectsByKeys(obj1, obj2, [\n        ...textBaseValues,\n        ...fileBaseValues,\n      ]);\n\n    case \"files\":\n      const isFilesEqualsLength = obj1.files.length === obj2.files.length      \n      \n      const isFilesChanged = obj1.files.reduce((changed, file, index) => {\n        return (\n          changed ||\n          compareObjectsByKeys(file, obj2.files[index], fileBaseValues)\n        );\n      }, false);\n      return compareObjectsByKeys(obj1, obj2, textBaseValues) || isFilesChanged || !isFilesEqualsLength;\n\n    case \"links\":\n      let isLinksChanged = false;\n\n      if (obj1.links.length !== obj2.links.length) {\n        isLinksChanged = true;\n      } else {\n        isLinksChanged = obj1.links.reduce((changed, link, index) => {\n          console.log(link, obj2.links[index]);\n          return (\n            changed ||\n            compareObjectsByKeys(link, obj2.links[index], linksBaseValues)\n          );\n        }, false);\n      }\n      console.log(\"isLinksChanged: \", isLinksChanged);\n      return compareObjectsByKeys(obj1, obj2, textBaseValues) || isLinksChanged;\n\n    default:\n      return false;\n  }\n};\n\nexport const compareTestQuestion = (questionFromClient, questionFromServer) => {\n  const baseKeysToCompare = [\"q_text\", \"q_score\", \"q_number\"];\n\n  switch (questionFromClient.q_type) {\n    case \"question_with_photo\":\n      return compareObjectsByKeys(questionFromClient, questionFromServer, [\n        ...baseKeysToCompare,\n        \"image_path\",\n      ]);\n\n    default:\n      return compareObjectsByKeys(\n        questionFromClient,\n        questionFromServer,\n        baseKeysToCompare\n      );\n  }\n};\n\nexport const compareTestAnswer = (\n  answerFromClient,\n  answerFromServer,\n  q_type\n) => {\n  const baseKeysToCompare = [\"a_text\", \"is_correct\"];\n\n  switch (q_type) {\n    case \"answer_with_photo\":\n      return compareObjectsByKeys(answerFromClient, answerFromServer, [\n        ...baseKeysToCompare,\n        \"image_path\",\n      ]);\n    case \"matching\":\n      return compareObjectsByKeys(answerFromClient, answerFromServer, [\n        \"right_text\",\n        \"left_text\",\n      ]);\n\n    default:\n      return compareObjectsByKeys(\n        answerFromClient,\n        answerFromServer,\n        baseKeysToCompare\n      );\n  }\n};\n","export const generateId = () => {\n  const now = new Date();\n  return now.getTime().toString();\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"lectureWrapper\":\"Lecture_lectureWrapper__zXBXk\",\"bodyWrapper\":\"Lecture_bodyWrapper__pYtRb\",\"contentWrapper\":\"Lecture_contentWrapper__dybDw\",\"progressWrapper\":\"Lecture_progressWrapper__OvhU2\",\"lectureContent\":\"Lecture_lectureContent__U+nZm\",\"titleWrapper\":\"Lecture_titleWrapper__AKtD4\",\"lectureName\":\"Lecture_lectureName__2LCd0\",\"prefix\":\"Lecture_prefix__g8Hvk\",\"title\":\"Lecture_title__CsNH5\",\"titleInput\":\"Lecture_titleInput__5LTgH\",\"sectionPDF\":\"Lecture_sectionPDF__J9cOp\",\"pdfWrapper\":\"Lecture_pdfWrapper__ckYD4\",\"sectionAudio\":\"Lecture_sectionAudio__ghSvE\",\"sectionTitle\":\"Lecture_sectionTitle__Slr7x\",\"sectionSubTitle\":\"Lecture_sectionSubTitle__z07kj\",\"sectionContentWrapper\":\"Lecture_sectionContentWrapper__TrTH5\",\"ql-direction-rtl\":\"Lecture_ql-direction-rtl__XGxDm\",\"modalWrap\":\"Lecture_modalWrap__GQzwu\",\"videoWrapper\":\"Lecture_videoWrapper__EANNx\",\"sectionVideo\":\"Lecture_sectionVideo__IFfn5\",\"sectionFiles\":\"Lecture_sectionFiles__7RMSS\",\"filesWrapper\":\"Lecture_filesWrapper__wdY9z\",\"attachedDocumentWrapper\":\"Lecture_attachedDocumentWrapper__dcNr-\",\"documentName\":\"Lecture_documentName__1-PNY\",\"documentSize\":\"Lecture_documentSize__hwv76\",\"downloadLink\":\"Lecture_downloadLink__wrory\",\"deleteBtn\":\"Lecture_deleteBtn__zZ7Md\",\"linksWrapper\":\"Lecture_linksWrapper__g8kp8\",\"linkWrapper\":\"Lecture_linkWrapper__YehIT\",\"imagesWrapper\":\"Lecture_imagesWrapper__V9aQV\",\"grid-1\":\"Lecture_grid-1__KqQTa\",\"grid-2\":\"Lecture_grid-2__3C9BQ\",\"grid-3\":\"Lecture_grid-3__MAuqj\",\"grid-4\":\"Lecture_grid-4__GPmTA\",\"grid-5\":\"Lecture_grid-5__kYz+2\",\"grid-6\":\"Lecture_grid-6__RdJcU\",\"imageWrapper\":\"Lecture_imageWrapper__EazfR\",\"descWrapper\":\"Lecture_descWrapper__bh54T\",\"bottomNavBtnsWrapper\":\"Lecture_bottomNavBtnsWrapper__7EibQ\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"TasksHeader_wrapper__R9GRe\",\"titleWrapper\":\"TasksHeader_titleWrapper__knfKx\",\"title\":\"TasksHeader_title__FP7xD\",\"divider\":\"TasksHeader_divider__d9+2e\",\"type\":\"TasksHeader_type__ymvOF\",\"toolsWrapper\":\"TasksHeader_toolsWrapper__vnQO8\",\"navBtnsWrapper\":\"TasksHeader_navBtnsWrapper__vK3ZX\",\"questionsDoneWrapper\":\"TasksHeader_questionsDoneWrapper__hpnlR\",\"attemptsBtn\":\"TasksHeader_attemptsBtn__y7wcO\",\"attemptsTitle\":\"TasksHeader_attemptsTitle__Jr4ip\",\"attemptsList\":\"TasksHeader_attemptsList__ZLmSc\",\"sumbitedAttempt\":\"TasksHeader_sumbitedAttempt__SB9-h\",\"marker\":\"TasksHeader_marker__NDlku\",\"scoreData\":\"TasksHeader_scoreData__Bc2PD\",\"showAttemptDetailBtn\":\"TasksHeader_showAttemptDetailBtn__6IEbs\",\"submitAttemptBtn\":\"TasksHeader_submitAttemptBtn__dHgBI\",\"testContentWrapper\":\"TasksHeader_testContentWrapper__z-VmS\",\"emptyDescription\":\"TasksHeader_emptyDescription__0TG4I\"};"],"names":["_path","_path2","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgEye","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","fillRule","clipRule","ForwardRef","_path3","_path4","_circle","_defs","SvgLink","stroke","strokeLinecap","strokeLinejoin","cx","cy","r","strokeWidth","x1","y1","x2","y2","gradientUnits","stopColor","offset","_g","SvgList","opacity","clipPath","x","y","rx","link","text","styles","_jsxs","className","linkWrapper","href","rel","children","_jsx","LinkIcon","_useSelection","lecture","isTemplate","tepmplateData","fullscreen","setFullscreen","useState","confirmBtnState","setConfirmBtnState","selectionContaner","useSelection","dispatch","useDispatch","number","courseName","status","course_id","courseId","lectureContent","lecture_info","attributes","sort","itemA","itemB","a_number","useEffect","contentWrapper","titleWrapper","lectureName","prefix","map","section","_files$0$file_path","_files$0$file_path2","a_type","type","a_title","a_text","downloadAllowed","hided","files","links","a_id","concat","sectionTitle","dangerouslySetInnerHTML","__html","sectionContentWrapper","filePath","file_path","encodedFilePathPresent","replace","sectionPDF","pdfWrapper","PDFReader","pdf","serverName","Modal","contentWrapperStyles","padding","background","boxShadow","isOpen","closeModal","console","log","encodedFilePathAudio","sectionAudio","src","controls","controlsList","encodedFilePathVideo","sectionVideo","videoWrapper","VideoPlayer","file","sectionFiles","filesWrapper","DocumentLink","file_id","linksWrapper","_ref2","link_id","anchor","LinkCard","ImageGroup","imagesData","isDesc","Empty","bottomNavBtnsWrapper","LessonNavigateBtn","forward","currentNumber","label","CompleteBtn","onClick","handleConfirmLecture","confirmLectureThunk","then","state","SvgVoice","SvgVolume","lectureSpeeches","audioRef","useRef","isPlaying","setIsPlaying","audioSrc","setAudioSrc","volume","setVolume","rate","setRate","messageApi","contextHolder","useMessage","wrapper","audio","handlePause","_audioRef$current2","current","pause","playBtn","PauseIcon","handlePlay","_audioRef$current","play","PlayIcon","Select","onChange","async","value","load","playbackRate","error","content","options","audios","audioPath","voiceName","split","pop","charAt","toUpperCase","slice","placeholder","_Fragment","VoiceIcon","style","wrapperStyles","gap","marginRight","allowClear","borderless","dropDownWrapperStyles","maxWidth","maxHeight","volumeWrapper","VolumeIcon","inputWrapper","volumeInput","min","max","step","e","volumeValue","rateWrapper","decrease","handleDecreaseRate","newRate","Math","increase","handleIncreaseRate","getAllTemplates","template","templates","getIsTemplateLoading","isLoading","TemplatesList","closePopover","setBlocks","useLectureConstructor","isModalOpen","setIsModalOpen","setIsLoading","templatesDetails","setTemplatesDetails","selectedTemplateId","setSelectedTemplateId","useSelector","filter","selectedTemplateDetails","find","selectedTemplateData","selectedTemplateTitle","fetchTemplateDetails","response","getTemplateByIdAndType","newTemplateDetails","_ref3","index","rest","generateId","prev","handleShowTemplate","templateDetails","selectTemplate","templatesList","_ref4","templateHeader","showBtn","FolderViewOutlined","deleteBtn","deleteTemplateByIdThunk","unwrap","success","message","duration","deleteTemplate","TrashIcon","btnsWrapper","useBtn","templateData","handleUseTemplate","FolderOpenOutlined","overflow","templateTitle","LectureContent","modalBtnsWrapper","spinnerWrapper","Spinner","_ref5","setIsOpen","Popover","rootClassName","placement","arrow","zIndex","trigger","open","onOpenChange","newOpen","templatesTitle","openTemplatesBtn","FolderOutlined","SvgSaveTemplate","fillOpacity","handleSave","setTitle","saveTemplateForm","onSubmit","preventDefault","Textarea","maxRows","fontSize","SaveIcon","isOpenModal","setIsOpenModal","blocks","openSaveNewTemplateModal","FolderAddOutlined","SaveTemplateForm","trim","template_data","createTemplateByTypeThunk","Templates","SaveTemplate","SvgNote","convertToHTML","input","lines","html","forEach","line","trimmedLine","parentId","deleteNode","inputRef","studentId","getUserInfo","stopPropagation","focus","name","nodeData","student_id","parent_id","createNotesFolderThunk","CheckIcon","handleShowAddChildNode","confirmDeleteLoading","setConfirmDeleteLoading","Popconfirm","description","onConfirm","deleteNotesFolderThunk","onCancel","okText","okButtonProps","loading","cancelText","overlayClassName","DeleteIcon","note","NoteIcon","deleteNoteThunk","note_id","finally","treeSelectStyle","treeSelectDropdownStyles","backgroundColor","backdropFilter","selectedNote","setSelectedNote","userNotes","getUserNotes","treeData","setTreeData","addChildToNode","node","_node$children","some","child","AddChildNode","getNoteTreeData","Note","selectable","getNotesTreeData","notes","folder_notes","childNodes","children_folders","folder_id","NodeTitle","folder_name","handleNotesSelectClick","handleClickOutsideNotesSelect","dropdownRef","document","querySelector","selectRef","contains","addEventListener","window","removeEventListener","AntTreeSelect","popupClassName","suffixIcon","ChevronIcon","switcherIcon","dropdownStyle","showSearch","NotesPopoverContent","_useSelection2","_useSelection3","selectionText","removeTheSelection","taskId","useParams","lessons","getAllLessons","noteTitle","setNoteTitle","TreeSelect","saveNewNote","_lessons$find","_lessons$find$lecture","lectureId","lecture_id","noteData","createNewNoteThunk","disabled","Notes","isOpenPopover","setIsOpenPopover","getSelection","switcherItems","switcherValue","switcherOnChange","lectureInfo","lectureSpeech","lecture_speeches","isModer","getUserType","divider","Template","Switcher","items","toolsWrapper","LectureAudioPlayer","navBtnsWrapper","AttemptsList","_test","_test2","_attemptsDetails$find","test","closePopOver","attemptsDetails","setAttemptsDetails","selectedAttemptId","setSelectedAttemptId","isLoadingAttemptId","setIsLoadingAttemptId","lessonType","attempts","attempts_data","maxScore","score","emptyDescription","answers","data","attemptsList","attempt","_test3","my_attempt_id","sumbitedAttempt","marker","attempt_number","scoreData","attempt_score","showAttemptDetailBtn","attemptData","getTestAttemptById","handleOpenDetails","EyeIcon","submitAttemptBtn","attempt_id","lesson_id","submitTestAttemptThunk","Message","handleSubmitAttempt","ComplieteIcon","testContentWrapper","TestContent","closed","_test4","handleOpenChange","attemptsTitle","attemptsBtn","ListIcon","_testData$questions","questionsDoneAmount","testScore","isExam","testData","exam_data","test_data","SubmitTest","LessonGrade","grade","maxGrade","questionsDoneWrapper","DocQuestionIcon","questions","setDescription","handleDeleteFile","Image","PreviewGroup","imagesWrapper","imageData","imageWrapper","alt","filename","fallback","noImage","descWrapper","file_description","deleteIcon","item","handleToggle","LectureConstructorContext","createContext","useContext","LectureConstructorProvider","_lectureData$lecture_","_task$lecture_info","lectureData","task","initialBlocks","lectureAttributesToBlocks","lectureAttrMaxNumber","reduce","maxNum","attr","Provider","handleAddBlock","part","handleDeleteBlock","partId","block","deleteLectureAttributeThunk","attrId","getSetters","setText","setFilePath","addFile","addNewFile","download_allowed","deleteFile","setDescriptionToFile","addLink","addNewLink","deleteLink","linkIndex","_","onChangeLink","property","onChangeLinksProperty","handleSaveLectureParts","newAttrsData","initialAttrsData","initialBlocksToUpdate","compareLecturePart","initBlock","updateLectureAttributesThunk","attrsData","createLectureAttributesThunk","blocksWithoutNewBlocks","wrapTextNode","textNode","start","end","nodeType","Node","TEXT_NODE","textContent","highlightSpan","createElement","classList","add","substring","highlightedText","createTextNode","appendChild","parentNode","textBefore","textAfter","insertBefore","removeChild","getNextNode","firstChild","nextSibling","handleHighlightSelection","selection","rangeCount","range","getRangeAt","startContainer","endContainer","startOffset","nodes","intersectsNode","push","getNodesInRange","endOffset","SelectionContext","SelectionProvider","setSelectionText","isCollapsed","info","commonAncestorContainer","toString","removeAllRanges","container","selectionElements","querySelectorAll","selectionElement","innerText","insertAdjacentHTML","compareObjectsByKeys","obj1","obj2","keys","textBaseValues","fileBaseValues","linksBaseValues","templateType","getByTemplateTypeByAttrType","isFilesEqualsLength","isFilesChanged","changed","isLinksChanged","compareTestQuestion","questionFromClient","questionFromServer","baseKeysToCompare","q_type","compareTestAnswer","answerFromClient","answerFromServer","Date","getTime"],"sourceRoot":""}