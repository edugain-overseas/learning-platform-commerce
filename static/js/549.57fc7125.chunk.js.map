{"version":3,"file":"static/js/549.57fc7125.chunk.js","mappings":"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","sources":["images/icons/reload.svg","webpack://learning-platform-commerce/./src/pages/PaymentPage/PaymentPage.module.scss?9524","pages/PaymentPage/Success.jsx","pages/PaymentPage/Cancel.jsx","pages/PaymentPage/PaymentPage.jsx"],"sourcesContent":["var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgReload(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 14,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.99944 12.2976C7.32135 12.2976 7.5823 12.0366 7.5823 11.7147C7.5823 11.3928 7.32135 11.1318 6.99944 11.1318V12.2976ZM10.7156 4.09932L10.2564 4.4583V4.4583L10.7156 4.09932ZM11.4864 5.54987L12.041 5.3707V5.3707L11.4864 5.54987ZM6.99944 11.1318C4.71772 11.1318 2.86801 9.28214 2.86801 7.00042H1.7023C1.7023 9.92595 4.07391 12.2976 6.99944 12.2976V11.1318ZM2.86801 7.00042C2.86801 4.71869 4.71772 2.86899 6.99944 2.86899V1.70328C4.07391 1.70328 1.7023 4.07489 1.7023 7.00042H2.86801ZM6.99944 2.86899C8.32203 2.86899 9.49931 3.48982 10.2564 4.4583L11.1748 3.74034C10.2063 2.50142 8.69591 1.70328 6.99944 1.70328V2.86899ZM10.2564 4.4583C10.5512 4.83532 10.7816 5.26438 10.9317 5.72904L12.041 5.3707C11.8481 4.77354 11.5523 4.22315 11.1748 3.74034L10.2564 4.4583ZM10.9317 5.72904C11.0609 6.12883 11.1309 6.55588 11.1309 7.00042H12.2966C12.2966 6.43275 12.2071 5.88485 12.041 5.3707L10.9317 5.72904Z\",\n    fill: \"#7E8CA8\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.7937 8.65772L13.0132 6.11419L10.2007 6.32984L11.7937 8.65772Z\",\n    fill: \"#7E8CA8\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgReload);\nexport default __webpack_public_path__ + \"static/media/reload.3a5fcd68d8c7832fdfbcddd415b40e10.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PaymentPage_wrapper__UGrhE\",\"successWrapper\":\"PaymentPage_successWrapper__Txhfk\",\"cancelWrapper\":\"PaymentPage_cancelWrapper__3Ctqr\",\"link\":\"PaymentPage_link__Ijg4U\",\"tryAgainBtn\":\"PaymentPage_tryAgainBtn__vPROG\"};","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SuccessImg from \"../../images/Success.webp\";\nimport { ReactComponent as Arrow } from \"../../images/icons/arrow-left.svg\";\nimport styles from \"./PaymentPage.module.scss\";\n\nconst Success = () => {\n  return (\n    <div className={styles.successWrapper}>\n      <div className={styles.topContentWrapper}>\n        <img src={SuccessImg} alt=\"success\"/>\n        <p>Your purchase</p>\n        <p>Was successful!</p>\n      </div>\n      <Link className={styles.link} to=\"/courses/my\">\n        <span>Go to the purchased course</span>\n        <Arrow />\n      </Link>\n    </div>\n  );\n};\n\nexport default Success;\n","import React from \"react\";\nimport CancelImg from \"../../images/Cancel.webp\";\nimport { ReactComponent as ReloadIcon } from \"../../images/icons/reload.svg\";\nimport styles from \"./PaymentPage.module.scss\";\n\nconst Cancel = () => {\n  return (\n    <div className={styles.cancelWrapper}>\n      <div className={styles.topContentWrapper}>\n        <img src={CancelImg} alt=\"cancel\"/>\n        <p>Sorry</p>\n        <p>something went wrong</p>\n      </div>\n      <button className={styles.tryAgainBtn}>\n        <span>Try again</span>\n        <ReloadIcon />\n      </button>\n    </div>\n  );\n};\n\nexport default Cancel;\n","import React, { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useCart } from \"../../context/cartContext\";\nimport { useDispatch } from \"react-redux\";\nimport { getCoursesThunk } from \"../../redux/course/operations\";\nimport { subscribeCourses } from \"../../http/services/user\";\nimport Spinner from \"../../components/Spinner/Spinner\";\nimport Success from \"./Success\";\nimport Cancel from \"./Cancel\";\nimport styles from \"./PaymentPage.module.scss\";\nimport { getUserInfoThunk } from \"../../redux/user/operations\";\n\nconst PaymentPage = () => {\n  const [searchParams] = useSearchParams();\n  const status = searchParams.get(\"status\");\n  const sessionId = searchParams.get(\"session_id\");\n  const [isLoading, setIsLoading] = useState(true);\n  const { removeItem } = useCart();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const handleSubscribeCourses = async () => {\n      try {\n        const response = await subscribeCourses(sessionId);\n        const items = response.items;\n\n        if (Array.isArray(items)) {\n          items.forEach((item) => removeItem(item));\n        }\n\n        await dispatch(getCoursesThunk()).unwrap();\n        await dispatch(getUserInfoThunk()).unwrap();\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    if (status === \"success\") {\n      handleSubscribeCourses();\n    } else {\n      setIsLoading(false);\n    }\n    // eslint-disable-next-line\n  }, [status, sessionId]);\n\n  return (\n    <div className={styles.wrapper}>\n      {isLoading ? (\n        <Spinner />\n      ) : status === \"success\" ? (\n        <Success />\n      ) : (\n        <Cancel />\n      )}\n    </div>\n  );\n};\n\nexport default PaymentPage;\n"],"names":["_path","_path2","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgReload","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","Success","_jsxs","className","styles","successWrapper","children","topContentWrapper","_jsx","src","SuccessImg","alt","Link","link","to","Arrow","Cancel","cancelWrapper","CancelImg","tryAgainBtn","ReloadIcon","PaymentPage","searchParams","useSearchParams","status","get","sessionId","isLoading","setIsLoading","useState","removeItem","useCart","dispatch","useDispatch","useEffect","async","items","subscribeCourses","Array","isArray","forEach","item","getCoursesThunk","unwrap","getUserInfoThunk","error","console","log","handleSubscribeCourses","wrapper","Spinner"],"sourceRoot":""}