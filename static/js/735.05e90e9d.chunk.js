"use strict";(self.webpackChunklearning_platform_commerce=self.webpackChunklearning_platform_commerce||[]).push([[735],{5735:(e,s,t)=>{t.r(s),t.d(s,{default:()=>k});var r=t(2791),d=t(8933),l=t(4420),i=t(9825),n=t(9297),o=t(2887),a=t(5309),c=t(2860),u=t(8838),v=t(5449),p=t(5998),m=t(3329);const f=e=>{var s;let{lecture:t}=e;const{course_id:r,id:d}=t,i=(0,l.v9)(o.V).find((e=>{let{id:s}=e;return s===+r})),n=null===i||void 0===i?void 0:i.title,f=null===i||void 0===i?void 0:i.lessons,x=null===f||void 0===f||null===(s=f.find((e=>{let{id:s}=e;return s===d})))||void 0===s?void 0:s.status;return(0,m.jsx)("div",{className:v.Z.lectureWrapper,children:(0,m.jsxs)(p.U,{children:[(0,m.jsx)(a.Z,{lecture:t}),(0,m.jsxs)("div",{className:v.Z.bodyWrapper,children:[(0,m.jsx)(c.Z,{lecture:{...t,status:x,courseName:n}}),(0,m.jsx)("div",{className:v.Z.progressWrapper,children:(0,m.jsx)(u.Z,{courseLessons:f||[],courseId:r,progress:null===i||void 0===i?void 0:i.progress})})]})]})})};var x=t(6735),_=t(5161),j=t(9535),g=t(4446),h=t(8185);const Z=e=>{var s,t,d,n;let{test:a}=e;const{course_id:c,id:v}=a,[p,f]=(0,r.useState)(0),[Z,N]=(0,r.useState)(null),[k,W]=(0,h.Z)(),y=(0,l.I0)(),I=null===(s=(0,l.v9)(o.V))||void 0===s?void 0:s.find((e=>{let{id:s}=e;return s===+c})),b=null===I||void 0===I?void 0:I.lessons,w=null===b||void 0===b||null===(t=b.find((e=>{let{id:s}=e;return s===a.id})))||void 0===t?void 0:t.score,S=null===b||void 0===b||null===(d=b.find((e=>{let{id:s}=e;return s===v})))||void 0===d?void 0:d.status,A=a.test_data.test_id,E=a.test_data.attempts<=(null===(n=a.test_data.attempts_data)||void 0===n?void 0:n.length),L=a.test_data.my_attempt_id;return(0,r.useEffect)((()=>{A&&y((0,i.Bb)({test_id:A}))}),[A]),(0,r.useEffect)((()=>{L&&(async()=>{try{const e=await(0,x.qg)(L);N(e)}catch(e){console.log(e)}})()}),[L]),(0,m.jsxs)("div",{className:g.Z.testWrapper,children:[W,(0,m.jsx)(_.Z,{test:a,testScore:w,questionsDoneAmount:p}),(0,m.jsxs)("div",{className:g.Z.bodyWrapper,children:[(0,m.jsx)(j.Z,{test:{...a,status:S},setStudentAnswersLength:f,closed:E,answers:Z,messageApi:k}),(0,m.jsx)("div",{className:g.Z.progressWrapper,children:(0,m.jsx)(u.Z,{courseLessons:b||[],courseId:c,progress:null===I||void 0===I?void 0:I.progress})})]})]})},N="TaskPage_pageWrapper__rKBv0",k=()=>{var e;const{taskId:s}=(0,d.UO)(),t=(0,l.I0)(),a=(0,l.v9)(n._),c=(0,l.v9)(o.V),u=a.find((e=>{let{id:t}=e;return t===+s})),v=null===u||void 0===u?void 0:u.type,p=null===(e=c.find((e=>e.lessons.find((e=>e.id===+s)))))||void 0===e?void 0:e.id;return(0,r.useEffect)((()=>{s&&!u&&t((0,i.Ik)(+s))}),[s]),(0,m.jsxs)("div",{className:N,children:["lecture"===v&&(0,m.jsx)(f,{lecture:u}),"test"===v&&(0,m.jsx)(Z,{test:u}),"exam"===v&&(0,m.jsx)(d.Fg,{to:"/course/".concat(p,"/exam-certificate")})]})}}}]);
//# sourceMappingURL=735.05e90e9d.chunk.js.map